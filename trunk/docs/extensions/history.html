<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="static/css/site.css" rel="stylesheet" type="text/css">
    <link href="static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href="//www.google.com/images/icons/product/chrome-16.png" rel="icon" type="image/ico">
    <link href="static/css/api.css" rel="stylesheet" type="text/css">
    <title>chrome.history - Google Chrome</title>
  </head>
  <body>
    <a id="top"></a>
    <div id="header">
      <span id="logo">
        <a href="http://code.google.com/"><img src="static/images/chrome_logo.gif" alt="Google Code Labs"></a>
      </span>
      <span id="cse">
        <gcse:searchbox-only enableAutoComplete="true" autoCompleteMatchTyple="prefix"></gcse:searchbox-only>
      </span>
    </div>
    <a id="gc-topnav-anchor"></a>
    <div id="gc-topnav">
      <h1>Google Chrome 扩展程序（非官方中文版）</h1>
      <ul id="home" class="gc-topnav-tabs">
        <li id="home_link">
          <!--@<a href="index.html" title="Google Chrome 扩展程序 home page"><div>Home</div></a>-->
          <a href="index.html" title="Google Chrome 扩展程序主页"><div>主页</div></a>
        </li>
        <li id="docs_link">
          <!--@<a href="docs.html" title="Official Google Chrome 扩展程序 documentation"><div>Docs</div></a>-->
          <a href="docs.html" title="Google Chrome 扩展程序文档"><div>文档</div></a>
        </li>
        <li id="faq_link">
          <!--@<a href="faq.html" title="Answers to frequently asked questions about Google Chrome 扩展程序"><div>FAQ</div></a>-->
          <a href="faq.html" title="关于 Google Chrome 扩展程序常见问题的答案"><div>常见问题</div></a>
        </li>
        <li id="samples_link">
          <!--@<a href="samples.html" title="Sample 扩展程序 (with source code)"><div>Samples</div></a>-->
          <a href="samples.html" title="示例扩展程序（包含源代码）"><div>示例</div></a>
        </li>
        <li id="group_link">
          <!--<a href="http://groups.google.com/a/chromium.org/group/chromium-extensions" title="Google Chrome 扩展程序 developer forum"><div>Group</div></a>-->
          <a href="http://groups.google.com/a/chromium.org/group/chromium-extensions" title="Google Chrome 扩展程序开发人员论坛"><div>论坛（英文）</div></a>
        </li>
        <li id="so_link">
          <!--<a href="http://stackoverflow.com/questions/tagged/google-chrome-extension" title="[google-chrome-extension] tag on Stack Overflow"><div>Questions?</div></a>-->
          <a href="http://stackoverflow.com/questions/tagged/google-chrome-extension" title="Stack Overflow 上的 [google-chrome-extension] 标签"><div>问题？（英文）</div></a>
        </li>
      </ul>
    </div>
    <div id="gc-container">
      <div id="gc-sidebar">
        <ul 
            class="level1 ">
          <li class="level2">
                <a href="getstarted.html" class="level2 ">入门</a>
          </li>
          <li class="level2">
                <a href="overview.html" class="level2 ">概述</a>
          </li>
          <li class="level2">
                <a href="whats_new.html" class="level2 ">新增功能</a>
          </li>
          <li class="level2">
                <a href="devguide.html" class="level2 "></a>
              <ul 
                  class="level2 ">
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">浏览器用户界面</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="browserAction.html" class="level4 ">浏览器按钮</a>
                      </li>
                      <li class="level4">
                            <a href="contextMenus.html" class="level4 ">右键菜单</a>
                      </li>
                      <li class="level4">
                            <a href="notifications.html" class="level4 ">桌面通知</a>
                      </li>
                      <li class="level4">
                            <a href="omnibox.html" class="level4 ">多功能框</a>
                      </li>
                      <li class="level4">
                            <a href="options.html" class="level4 ">选项页面</a>
                      </li>
                      <li class="level4">
                            <a href="override.html" class="level4 ">替代页面</a>
                      </li>
                      <li class="level4">
                            <a href="pageAction.html" class="level4 ">页面按钮</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">浏览器交互</span>
                      <div class="toggleIndicator level3 toggled"></div>
                    </a>
                    <ul toggleable
                        class="level3 ">
                      <li class="level4">
                            <a href="bookmarks.html" class="level4 ">书签</a>
                      </li>
                      <li class="level4">
                            <a href="cookies.html" class="level4 ">Cookie</a>
                      </li>
                      <li class="level4">
                            <a href="devtools.html" class="level4 ">开发者工具</a>
                      </li>
                      <li class="level4">
                            <a href="events.html" class="level4 ">事件</a>
                      </li>
                      <li class="level4">
                            <a  class="level4 selected">历史记录</a>
                      </li>
                      <li class="level4">
                            <a href="management.html" class="level4 ">管理</a>
                      </li>
                      <li class="level4">
                            <a href="tabs.html" class="level4 ">标签页</a>
                      </li>
                      <li class="level4">
                            <a href="windows.html" class="level4 ">窗口</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">实现</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="a11y.html" class="level4 ">辅助功能</a>
                      </li>
                      <li class="level4">
                            <a href="event_pages.html" class="level4 ">事件页面</a>
                      </li>
                      <li class="level4">
                            <a href="contentSecurityPolicy.html" class="level4 ">内容安全策略</a>
                      </li>
                      <li class="level4">
                            <a href="content_scripts.html" class="level4 ">内容脚本</a>
                      </li>
                      <li class="level4">
                            <a href="xhr.html" class="level4 ">跨站XHR</a>
                      </li>
                      <li class="level4">
                            <a href="i18n.html" class="level4 ">国际化支持</a>
                      </li>
                      <li class="level4">
                            <a href="messaging.html" class="level4 ">消息传递</a>
                      </li>
                      <li class="level4">
                            <a href="permissions.html" class="level4 ">可选权限</a>
                      </li>
                      <li class="level4">
                            <a href="npapi.html" class="level4 ">NPAPI 插件</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">完成</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="hosting.html" class="level4 ">托管</a>
                      </li>
                      <li class="level4">
                            <a href="external_extensions.html" class="level4 ">其他发布选项</a>
                      </li>
                    </ul>
                </li>
              </ul>
          </li>
          <li class="level2">
                <a href="tutorials.html" class="level2 ">教程</a>
              <ul 
                  class="level2 ">
                <li class="level3">
                      <a href="tut_migration_to_manifest_v2.html" class="level3 ">清单文件版本2</a>
                </li>
                <li class="level3">
                      <a href="tut_debugging.html" class="level3 ">调试</a>
                </li>
                <li class="level3">
                      <a href="tut_analytics.html" class="level3 ">Google Analytics（分析）</a>
                </li>
                <li class="level3">
                      <a href="tut_oauth.html" class="level3 ">OAuth</a>
                </li>
              </ul>
          </li>
          <li class="level2">
                <span class="level2">参考</span>
              <ul 
                  class="level2 ">
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">格式</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="manifest.html" class="level4 ">清单文件</a>
                      </li>
                      <li class="level4">
                            <a href="match_patterns.html" class="level4 ">匹配表达式</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                      <a href="permission_warnings.html" class="level3 ">权限警告</a>
                </li>
                <li class="level3">
                      <a href="api_index.html" class="level3 ">chrome.* API</a>
                </li>
                <li class="level3">
                      <a href="api_other.html" class="level3 ">其他 API</a>
                </li>
              </ul>
          </li>
          <li class="level2">
                <span class="level2">更多</span>
              <ul 
                  class="level2 ">
                <li class="level3">
                      <a href="https://code.google.com/chrome/webstore/docs/index.html" class="level3 ">Chrome 网上应用店</a>
                </li>
                <li class="level3">
                      <a href="https://code.google.com/chrome/apps/docs/developers_guide.html" class="level3 ">托管应用程序</a>
                </li>
                <li class="level3">
                      <a href="themes.html" class="level3 ">主题背景</a>
                </li>
              </ul>
          </li>
        </ul>
      </div>
      <div id="gc-pagecontent">
        <h1 class="page_title">chrome.history</h1>
        
        
        
        <div id="toc">
          <h2><!--@Contents-->目录</h2>
          <ol>
            <li>
              <a href=#manifest>清单文件</a>
            </li>
            <li>
              <a href=#transition_types>过渡类型</a>
            </li>
            <li>
              <a href=#examples>例子</a>
            </li>
            <li>
              <a href="#apiReference"><!--@API reference: -->API 参考：chrome.history</a>
              <ol>
                  <li><a href="#types"><!--@Types-->类型</a><ol>  <li>    <a href="#type-HistoryItem">HistoryItem</a>  </li>  <li>    <a href="#type-VisitItem">VisitItem</a>  </li></ol></li>
                  
                  <li><a href="#methods"><!--@Methods-->方法</a><ol>  <li><a href="#method-search">search</a></li>  <li><a href="#method-getVisits">getVisits</a></li>  <li><a href="#method-addUrl">addUrl</a></li>  <li><a href="#method-deleteUrl">deleteUrl</a></li>  <li><a href="#method-deleteRange">deleteRange</a></li>  <li><a href="#method-deleteAll">deleteAll</a></li></ol></li>
                  <li><a href="#events"><!--@Events-->事件</a><ol>  <li><a href="#event-onVisited">onVisited</a></li>  <li><a href="#event-onVisitRemoved">onVisitRemoved</a></li></ol></li>
                  <li><a href="#samples"><!--@Sample -->示例扩展程序</a></li>
              </ol>
            </li>
          </ol>
        </div>

<p id="classSummary">
<!--@Use the <code>chrome.history</code> module to interact with the 
browser's record of visited pages.  You can add, remove, and query
for URLs in the browser's history.
To override the history page with your own version, see 
<a href="override.html">Override Pages</a>.-->
使用 <code>chrome.history</code>
模块与浏览器的历史记录交互，您可以添加、删除、通过
URL
查询浏览器的历史记录。如果您想要使用您自己的版本替换默认的历史记录页面，请参见<a href="override.html">替代页面</a>。
</p>

<h2 id="manifest"><!--@Manifest-->清单文件</h2>

<p><!--@You must declare the "history" permission
in the <a href="manifest.html">extension manifest</a>
to use the history API.
For example:-->
您必须在<a href="manifest.html">扩展程序的清单文件</a>中声明 "history"
权限来使用历史记录 API。例如：
</p>
<pre>{
  "name": "我的扩展程序",
  ...
  <b>"permissions": [
    "history"
  ]</b>,
  ...
}</pre>

<h2 id="transition_types"><!--@Transition types-->过渡类型</h2>

<p>
<!--@The history API uses a <em>transition type</em> to describe
how the browser navigated to a particular URL
on a particular visit.
For example, if a user visits a page
by clicking a link on another page,
the transition type is "link".-->
历史记录 API 使用<em>过渡类型</em>来描述浏览器在某次访问中如何进入某个特定的
URL。例如，如果用户通过单击另一个页面上的链接访问一个页面，则过渡类型为
"link"（链接）。
</p>

<p>
<!--@The following table describes each transition type.-->
下表描述每一种过渡类型。
</p>

<table>
<tr>
  <th> <!--@Transition type-->过渡类型 </th> <th> <!--@Description-->描述 </th>
</tr>
<tr id="tt_link">
  <td>"link"</td>
  <td>
    <!--@The user got to this page by clicking a link on another page.-->
    用户通过单击另一个页面上的链接进入此页面。
  </td>
</tr>
<tr id="tt_typed">
  <td>"typed"</td>
  <td>
    <!--@The user got this page by typing the URL in the address bar.
    Also used for other explicit navigation actions.
    See also <a href="#tt_generated">generated</a>,
    which is used for cases where the user selected a choice
    that didn't look at all like a URL.-->
    用户通过在地址栏中输入 URL
    进入此页面，也用于其它显式的导航操作。请注意与
    <a href="#tt_generated">generated</a> 比较，它在用户选择了非
    URL 选项的情况下使用。
  </td>
</tr>
<tr id="tt_auto_bookmark">
  <td>"auto_bookmark"</td>
  <td>
    <!--@The user got to this page through a suggestion in the UI &mdash;
    for example, through a menu item.-->
    用户通过用户界面中的建议（例如通过菜单项）进入了此页面。
  </td>
</tr>
<tr id="tt_auto_subframe">
  <td>"auto_subframe"</td>
  <td>
    <!--@Subframe navigation.
    This is any content that is automatically
    loaded in a non-top-level frame.
    For example, if a page consists of
    several frames containing ads,
    those ad URLs have this transition type.
    The user may not even realize the content in these pages
    is a separate frame, and so may not care about the URL
    (see also <a href="#tt_manual_subframe">manual_subframe</a>).-->
    子框架导航，用于任何自动在非顶层框架中载入的内容。例如，如果一个页面包含几个含有广告的框架，这些广告的
    URL 具有这种过渡类型。用户不一定知道这些页面中的内容在单独的框架中，也不一定会关心它们的 URL（请注意与
    <a href="#tt_manual_subframe">manual_subframe</a>比较）。
  </td>
</tr>
<tr id="tt_manual_subframe">
  <td>"manual_subframe"</td>
  <td>
    <!--@For subframe navigations that are explicitly requested by the user
    and generate new navigation entries in the back/forward list.
    An explicitly requested frame is probably more important than
    an automatically loaded frame
    because the user probably cares about the fact that
    the requested frame was loaded.-->
    用于用户明确请求的子框架导航，在前进/后退列表中会产生新的导航项。明确的框架请求可能比自动载入的框架更重要，因为用户可能关心请求的框架载入的情况。
  </td>
</tr>
<tr id="tt_generated">
  <td>"generated"</td>
  <td>
    <!--@The user got to this page by typing in the address bar
    and selecting an entry that did not look like a URL.
    For example, a match might have the URL of a Google search result page,
    but it might appear to the user as "Search Google for ...".
    These are not quite the same as <a href="#tt_typed">typed</a> navigations
    because the user didn't type or see the destination URL.
    See also <a href="#tt_keyword">keyword</a>.-->
    用户通过在地址栏中输入并选择非 URL 项进入了该页面。例如，匹配项可能具有
    Google 搜索结果页面的 URL，但是用户看到的可能是“在 Google 中搜索…”。这和
    <a href="#tt_typed">typed</a> 导航不同，因为用户没有输入也没有看到目标
    URL。另外请与 <a href="#tt_keyword">keyword</a> 比较。
  </td>
</tr>
<tr id="tt_start_page">
  <td>"start_page"</td>
  <td>
    <!--@The page was specified in the command line or is the start page.-->
    该页面在命令行中指定或者为主页。
  </td>
</tr>
<tr id="tt_form_submit">
  <td>"form_submit"</td>
  <td>
    <!--@The user filled out values in a form and submitted it.
    Note that in some situations &mdash;
    such as when a form uses script to submit contents &mdash;
    submitting a form does not result in this transition type.-->
    用户填写了表单中的内容并提交。注意，在某些情况下（例如表单使用脚本来提交内容），提交表单不一定产生这种过渡类型。
  </td>
</tr>
<tr id="tt_reload">
  <td>"reload"</td>
  <td>
    <!--@The user reloaded the page,
    either by clicking the reload button
    or by pressing Enter in the address bar.
    Session restore and Reopen closed tab use this transition type, too.-->
    用户重新载入了此页面，无论是单击重新载入按钮还是在地址栏中按下回车。会话恢复以及重新打开已关闭的标签页也使用这一种过渡类型。
  </td>
</tr>
<tr id="tt_keyword">
  <td>"keyword"</td>
  <td>
    <!--@The URL was generated from a replaceable keyword
    other than the default search provider.
    See also
    <a href="#tt_keyword_generated">keyword_generated</a>.-->
    URL 从除了默认搜索引擎以外的可替换关键字生成。同时参见
    <a href="#tt_keyword_generated">keyword_generated</a>。
  </td>
</tr>
<tr id="tt_keyword_generated">
  <td>"keyword_generated"</td>
  <td>
    <!--@Corresponds to a visit generated for a keyword.
    See also <a href="#tt_keyword">keyword</a>.-->
    对应于为某一关键字产生的访问。同时参见
    <a href="#tt_keyword">keyword</a>。
  </td>
</tr>
</table>

<h2 id="examples"><!--@Examples-->例子</h2>

<p>
<!--@For examples of using this API, see the
<a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/common/extensions/docs/examples/api/history/">history sample directory</a> and the
<a href="http://src.chromium.org/viewvc/chrome/trunk/src/chrome/test/data/extensions/api_test/history/">history API test directory</a>.
For other examples and for help in viewing the source code, see
<a href="samples.html">Samples</a>.-->
有关使用这一 API 的例子，请参见<a
href="https://src.chromium.org/viewvc/chrome/trunk/src/chrome/common/extensions/docs/examples/api/history/">历史记录示例目录</a>和<a
href="https://src.chromium.org/viewvc/chrome/trunk/src/chrome/test/data/extensions/api_test/history/">历史记录API测试目录</a>。有关其它例子以及查看源代码的帮助，请参见<a
href="samples.html">示例</a>。
</p>
        <h2 id="apiReference"><!--@API Reference: chrome.history-->API 参考：chrome.history</h2>
        <div class="api_reference">
            <h3 id="types"><!--@Types-->类型</h3>
              <div>
                <h3 id="type-HistoryItem">HistoryItem</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    包含历史记录的一个查询结果的对象。
                  </dd>    <h4 id="HistoryItem-properties">
                    <!--@Properties of --><a href="#type-HistoryItem">HistoryItem</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-HistoryItem-id"></a>
                      <dt>
                        <span class="variable">id</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        该项目的唯一标识符。
                      </dd>
                    </div>
                    <div>
                      <a name="property-HistoryItem-url"></a>
                      <dt>
                        <span class="variable">url</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        用户访问的 URL。
                      </dd>
                    </div>
                    <div>
                      <a name="property-HistoryItem-title"></a>
                      <dt>
                        <span class="variable">title</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        上一次载入时该页面的标题。
                      </dd>
                    </div>
                    <div>
                      <a name="property-HistoryItem-lastVisitTime"></a>
                      <dt>
                        <span class="variable">lastVisitTime</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            double
                          )
                        </span>
                      </dt>
                      <dd>
                        页面最后一次访问的时间，表示为从 1970 年 1 月 1 日午夜开始所经过的毫秒数。
                      </dd>
                    </div>
                    <div>
                      <a name="property-HistoryItem-visitCount"></a>
                      <dt>
                        <span class="variable">visitCount</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            integer
                          )
                        </span>
                      </dt>
                      <dd>
                        用户访问此页面的次数。
                      </dd>
                    </div>
                    <div>
                      <a name="property-HistoryItem-typedCount"></a>
                      <dt>
                        <span class="variable">typedCount</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            integer
                          )
                        </span>
                      </dt>
                      <dd>
                        用户通过在地址来中输入 URL 的方式访问此页面的次数。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-VisitItem">VisitItem</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    包含对一个 URL 的某一次访问的对象。
                  </dd>    <h4 id="VisitItem-properties">
                    <!--@Properties of --><a href="#type-VisitItem">VisitItem</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-VisitItem-id"></a>
                      <dt>
                        <span class="variable">id</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        该项目的唯一标识符。
                      </dd>
                    </div>
                    <div>
                      <a name="property-VisitItem-visitId"></a>
                      <dt>
                        <span class="variable">visitId</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        本次访问的唯一标识符。
                      </dd>
                    </div>
                    <div>
                      <a name="property-VisitItem-visitTime"></a>
                      <dt>
                        <span class="variable">visitTime</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            double
                          )
                        </span>
                      </dt>
                      <dd>
                        访问时间，表示为从 1970 年 1 月 1 日午夜开始所经过的毫秒数。
                      </dd>
                    </div>
                    <div>
                      <a name="property-VisitItem-referringVisitId"></a>
                      <dt>
                        <span class="variable">referringVisitId</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        引用者的访问所对应的标识符。
                      </dd>
                    </div>
                    <div>
                      <a name="property-VisitItem-transition"></a>
                      <dt>
                        <span class="variable">transition</span>
                        <span class="property">
                          (
                            
                            enumerated string ["link", "typed", "auto_bookmark", "auto_subframe", "manual_subframe", "generated", "auto_toplevel", "form_submit", "reload", "keyword", "keyword_generated"]
                          )
                        </span>
                      </dt>
                      <dd>
                        这一次访问相对引用者的<a href='#transition_types'>过渡类型</a>。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
            <h3 id="methods"><!--@Methods-->方法</h3>
              <div>
                <h4 id="method-search">search</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.history.</span>search</span>(<span>object <span class="variable">query</span></span>, <span>function <span class="variable">callback</span></span>)
                </div>
                <div class="description">
                  <p>
                    搜索历史记录，找出所有匹配页面的最后一次访问记录。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-search-query"></a>
                        <dt>
                          <span class="variable">query</span>
                          <span class="property">
                            (
                              
                              object
                            )
                          </span>
                        </dt>
                        <dd>
                          <dl>
                            <div>
                              <a name="property-query-text"></a>
                              <dt>
                                <span class="variable">text</span>
                                <span class="property">
                                  (
                                    
                                    string
                                  )
                                </span>
                              </dt>
                              <dd>
                                向历史记录服务发出的查询文本，如果为空则获取所有页面。
                              </dd>
                            </div>
                            <div>
                              <a name="property-query-startTime"></a>
                              <dt>
                                <span class="variable">startTime</span>
                                <span class="property">
                                  (
                                    <span class="optional">optional</span>
                                    double
                                  )
                                </span>
                              </dt>
                              <dd>
                                将结果限制为此日期之后的访问，表示为从 1970 年 1 月 1 日午夜开始所经过的毫秒数。
                              </dd>
                            </div>
                            <div>
                              <a name="property-query-endTime"></a>
                              <dt>
                                <span class="variable">endTime</span>
                                <span class="property">
                                  (
                                    <span class="optional">optional</span>
                                    double
                                  )
                                </span>
                              </dt>
                              <dd>
                                将结果限制为此日期之前的访问，表示为从 1970 年 1 月 1 日午夜开始所经过的毫秒数。
                              </dd>
                            </div>
                            <div>
                              <a name="property-query-maxResults"></a>
                              <dt>
                                <span class="variable">maxResults</span>
                                <span class="property">
                                  (
                                    <span class="optional">optional</span>
                                    integer
                                  )
                                </span>
                              </dt>
                              <dd>
                                要获得的最大结果数目，默认为 100。
                              </dd>
                            </div>
                          </dl>
                        </dd>
                      </div>
                      <div>
                        <a name="property-search-callback"></a>
                        <dt>
                          <span class="variable">callback</span>
                          <span class="property">
                            (
                              
                              function
                            )
                          </span>
                        </dt>
                      </div>
                  </dl>
                    <h4><!--@Callback-->回调函数</h4>
                    <p>
                          <!--@The <em>callback</em> parameter should specify a function
                          that looks like this:-->
                          <em>callback</em> 参数应该指定一个如下形式的函数：
                    </p>
                    <pre>function(array of <a href="history.html#type-HistoryItem">HistoryItem</a> results) <span class="subdued">{...}</span>;</pre>
                    <dl>
                        <div>
                          <a name="property-callback-results"></a>
                          <dt>
                            <span class="variable">results</span>
                            <span class="property">
                              (
                                
                                array of <a href="history.html#type-HistoryItem">HistoryItem</a>
                              )
                            </span>
                          </dt>
                        </div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="method-getVisits">getVisits</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.history.</span>getVisits</span>(<span>object <span class="variable">details</span></span>, <span>function <span class="variable">callback</span></span>)
                </div>
                <div class="description">
                  <p>
                    获取有关某个 URL 的访问信息。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-getVisits-details"></a>
                        <dt>
                          <span class="variable">details</span>
                          <span class="property">
                            (
                              
                              object
                            )
                          </span>
                        </dt>
                        <dd>
                          <dl>
                            <div>
                              <a name="property-details-url"></a>
                              <dt>
                                <span class="variable">url</span>
                                <span class="property">
                                  (
                                    
                                    string
                                  )
                                </span>
                              </dt>
                              <dd>
                                需要获取信息的 URL，必须与 <a href="history.html#method-search">search</a> 调用的返回值具有相同的形式。
                              </dd>
                            </div>
                          </dl>
                        </dd>
                      </div>
                      <div>
                        <a name="property-getVisits-callback"></a>
                        <dt>
                          <span class="variable">callback</span>
                          <span class="property">
                            (
                              
                              function
                            )
                          </span>
                        </dt>
                      </div>
                  </dl>
                    <h4><!--@Callback-->回调函数</h4>
                    <p>
                          <!--@The <em>callback</em> parameter should specify a function
                          that looks like this:-->
                          <em>callback</em> 参数应该指定一个如下形式的函数：
                    </p>
                    <pre>function(array of <a href="history.html#type-VisitItem">VisitItem</a> results) <span class="subdued">{...}</span>;</pre>
                    <dl>
                        <div>
                          <a name="property-callback-results"></a>
                          <dt>
                            <span class="variable">results</span>
                            <span class="property">
                              (
                                
                                array of <a href="history.html#type-VisitItem">VisitItem</a>
                              )
                            </span>
                          </dt>
                        </div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="method-addUrl">addUrl</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.history.</span>addUrl</span>(<span>object <span class="variable">details</span></span>, <span class="optional">function <span class="variable">callback</span></span>)
                </div>
                <div class="description">
                  <p>
                    向历史记录中以当前时间添加 URL，<a href='#transition_types'>过渡类型</a>为 "link"。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-addUrl-details"></a>
                        <dt>
                          <span class="variable">details</span>
                          <span class="property">
                            (
                              
                              object
                            )
                          </span>
                        </dt>
                        <dd>
                          <dl>
                            <div>
                              <a name="property-details-url"></a>
                              <dt>
                                <span class="variable">url</span>
                                <span class="property">
                                  (
                                    
                                    string
                                  )
                                </span>
                              </dt>
                              <dd>
                                要添加的 URL。
                              </dd>
                            </div>
                          </dl>
                        </dd>
                      </div>
                      <div>
                        <a name="property-addUrl-callback"></a>
                        <dt>
                          <span class="variable">callback</span>
                          <span class="property">
                            (
                              <span class="optional">optional</span>
                              function
                            )
                          </span>
                        </dt>
                      </div>
                  </dl>
                    <h4><!--@Callback-->回调函数</h4>
                    <p>
                          <!--@If you specify the <em>callback</em> parameter, it should
                          specify a function that looks like this:-->
                          如果您指定了 <em>callback</em> 参数，它应该指定一个如下形式的函数：
                    </p>
                    <pre>function() <span class="subdued">{...}</span>;</pre>
                </div>
              </div>
              <div>
                <h4 id="method-deleteUrl">deleteUrl</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.history.</span>deleteUrl</span>(<span>object <span class="variable">details</span></span>, <span class="optional">function <span class="variable">callback</span></span>)
                </div>
                <div class="description">
                  <p>
                    从历史记录中删除出现给定 URL 的所有内容。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-deleteUrl-details"></a>
                        <dt>
                          <span class="variable">details</span>
                          <span class="property">
                            (
                              
                              object
                            )
                          </span>
                        </dt>
                        <dd>
                          <dl>
                            <div>
                              <a name="property-details-url"></a>
                              <dt>
                                <span class="variable">url</span>
                                <span class="property">
                                  (
                                    
                                    string
                                  )
                                </span>
                              </dt>
                              <dd>
                                要删除的 URL。
                              </dd>
                            </div>
                          </dl>
                        </dd>
                      </div>
                      <div>
                        <a name="property-deleteUrl-callback"></a>
                        <dt>
                          <span class="variable">callback</span>
                          <span class="property">
                            (
                              <span class="optional">optional</span>
                              function
                            )
                          </span>
                        </dt>
                      </div>
                  </dl>
                    <h4><!--@Callback-->回调函数</h4>
                    <p>
                          <!--@If you specify the <em>callback</em> parameter, it should
                          specify a function that looks like this:-->
                          如果您指定了 <em>callback</em> 参数，它应该指定一个如下形式的函数：
                    </p>
                    <pre>function() <span class="subdued">{...}</span>;</pre>
                </div>
              </div>
              <div>
                <h4 id="method-deleteRange">deleteRange</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.history.</span>deleteRange</span>(<span>object <span class="variable">range</span></span>, <span>function <span class="variable">callback</span></span>)
                </div>
                <div class="description">
                  <p>
                    删除指定日期范围内的所有历史记录，访问日期不在这一范围内的页面不会从历史记录中删除。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-deleteRange-range"></a>
                        <dt>
                          <span class="variable">range</span>
                          <span class="property">
                            (
                              
                              object
                            )
                          </span>
                        </dt>
                        <dd>
                          <dl>
                            <div>
                              <a name="property-range-startTime"></a>
                              <dt>
                                <span class="variable">startTime</span>
                                <span class="property">
                                  (
                                    
                                    double
                                  )
                                </span>
                              </dt>
                              <dd>
                                删除这一时间之后的添加历史记录，表示为从 1970 年 1 月 1 日午夜开始所经过的毫秒数。
                              </dd>
                            </div>
                            <div>
                              <a name="property-range-endTime"></a>
                              <dt>
                                <span class="variable">endTime</span>
                                <span class="property">
                                  (
                                    
                                    double
                                  )
                                </span>
                              </dt>
                              <dd>
                                删除这一时间之前的添加历史记录，表示为从 1970 年 1 月 1 日午夜开始所经过的毫秒数。
                              </dd>
                            </div>
                          </dl>
                        </dd>
                      </div>
                      <div>
                        <a name="property-deleteRange-callback"></a>
                        <dt>
                          <span class="variable">callback</span>
                          <span class="property">
                            (
                              
                              function
                            )
                          </span>
                        </dt>
                      </div>
                  </dl>
                    <h4><!--@Callback-->回调函数</h4>
                    <p>
                          <!--@The <em>callback</em> parameter should specify a function
                          that looks like this:-->
                          <em>callback</em> 参数应该指定一个如下形式的函数：
                    </p>
                    <pre>function() <span class="subdued">{...}</span>;</pre>
                </div>
              </div>
              <div>
                <h4 id="method-deleteAll">deleteAll</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.history.</span>deleteAll</span>(<span>function <span class="variable">callback</span></span>)
                </div>
                <div class="description">
                  <p>
                    删除历史记录中的所有项目。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-deleteAll-callback"></a>
                        <dt>
                          <span class="variable">callback</span>
                          <span class="property">
                            (
                              
                              function
                            )
                          </span>
                        </dt>
                      </div>
                  </dl>
                    <h4><!--@Callback-->回调函数</h4>
                    <p>
                          <!--@The <em>callback</em> parameter should specify a function
                          that looks like this:-->
                          <em>callback</em> 参数应该指定一个如下形式的函数：
                    </p>
                    <pre>function() <span class="subdued">{...}</span>;</pre>
                </div>
              </div>
            <h3 id="events"><!--@Events-->事件</h3>
              <div>
                <h4 id="event-onVisited">onVisited</h4>
                <div class="summary">
                  <span class="subdued">chrome.history.</span>onVisited<span class="subdued">.addListener</span>(function(<span><a href="history.html#type-HistoryItem">HistoryItem</a> <span class="variable">result</span></span>)<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    当访问某个 URL 时产生，并提供该 URL 的 HistoryItem 数据。这一事件在页面载入完成前产生。
                  </p>      <h4><!--@Listener Parameters-->监听器参数</h4>
                    <dl>
                      <div>  <a name="property-onVisited-result"></a>  <dt>    <span class="variable">result</span>    <span class="property">      (                <a href="history.html#type-HistoryItem">HistoryItem</a>      )    </span>  </dt></div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="event-onVisitRemoved">onVisitRemoved</h4>
                <div class="summary">
                  <span class="subdued">chrome.history.</span>onVisitRemoved<span class="subdued">.addListener</span>(function(<span>object <span class="variable">removed</span></span>)<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    当一个或多个 URL 从历史记录服务删除时产生，当所有访问都删除时 URL 将从历史记录中清除。
                  </p>      <h4><!--@Listener Parameters-->监听器参数</h4>
                    <dl>
                      <div>  <a name="property-onVisitRemoved-removed"></a>  <dt>    <span class="variable">removed</span>    <span class="property">      (                object      )    </span>  </dt>  <dd>    <dl>      <div>        <a name="property-removed-allHistory"></a>        <dt>          <span class="variable">allHistory</span>          <span class="property">            (                            boolean            )          </span>        </dt>        <dd>          如果删除所有历史记录则为 true。如果为 true，urls 参数将为空。        </dd>      </div>      <div>        <a name="property-removed-urls"></a>        <dt>          <span class="variable">urls</span>          <span class="property">            (              <span class="optional">optional</span>              array of string            )          </span>        </dt>      </div>    </dl>  </dd></div>
                    </dl>
                </div>
              </div>
        </div>
          <h2 id="samples"><!--@Sample 扩展程序 that use chrome.history-->使用chrome.history的示例扩展程序</h2>
            <li><strong><a href="samples.html#27840ea197cf9d783a89661d934c60b1">Typed URL History</a></strong>
            &ndash; Reads your history, and shows the top ten pages you go to by typing the URL.
        </li>
      </div>
    </div>
  </body>
  <script>
    window.bootstrap = {
      api_names: [{"name":"alarms"},{"name":"bookmarks"},{"name":"browserAction"},{"name":"browsingData"},{"name":"commands"},{"name":"contentSettings"},{"name":"contextMenus"},{"name":"cookies"},{"name":"debugger"},{"name":"declarativeContent"},{"name":"declarativeWebRequest"},{"name":"devtools.inspectedWindow"},{"name":"devtools.network"},{"name":"devtools.panels"},{"name":"downloads"},{"name":"events"},{"name":"extension"},{"name":"fileBrowserHandler"},{"name":"fontSettings"},{"name":"history"},{"name":"i18n"},{"name":"idle"},{"name":"input.ime"},{"name":"management"},{"name":"omnibox"},{"name":"pageAction"},{"name":"pageCapture"},{"name":"permissions"},{"name":"privacy"},{"name":"proxy"},{"name":"pushMessaging"},{"name":"runtime"},{"name":"scriptBadge"},{"name":"sessionRestore"},{"name":"storage"},{"name":"tabCapture"},{"name":"tabs"},{"name":"topSites"},{"name":"tts"},{"name":"ttsEngine"},{"name":"types"},{"name":"webNavigation"},{"name":"webRequest"},{"name":"webstore"},{"last":true,"name":"windows"}].concat(
          [{"name":"experimental.devtools.audits"},{"name":"experimental.devtools.console"},{"name":"experimental.discovery"},{"name":"experimental.history"},{"name":"experimental.identity"},{"name":"experimental.infobars"},{"name":"experimental.processes"},{"name":"experimental.record"},{"name":"experimental.speechInput"},{"name":"experimental.systemInfo.cpu"},{"last":true,"name":"experimental.systemInfo.storage"}]),
      branchInfo: {"channels":[{"path":"stable","name":"Stable"},{"path":"dev","name":"Dev"},{"path":"beta","name":"Beta"},{"path":"trunk","name":"Trunk"}],"current":"stable","showWarning":false}
    };
  </script>
  <div id="gc-footer">
    <div class="text">
      <p>
        <!--@Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>,
        the content of this page is licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
        Attribution 3.0 License</a>, and code samples are licensed under the
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>.-->
        该页面翻译自
        <a href="https://developer.chrome.com/extensions/">Google Chrome Extensions</a>
        与
        <a href="https://developer.chrome.com/apps/">Google Chrome Apps</a>。除非特别<a href="https://code.google.com/policies.html#restrictions">说明</a>，该页面的内容遵循
        <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0
        License</a>，代码示例遵循
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>。
      </p>
      <p>
        <!--@©2012 Google-->
      </p>
      <script src="static/js/branch.js" type="text/javascript"></script>
      <script src="static/js/sidebar.js" type="text/javascript"></script>
      <script src="static/js/prettify.js" type="text/javascript"></script>
      <script>
        (function() {
          // Auto syntax highlight all pre tags.
          var preElements = document.getElementsByTagName('pre');
          for (var i = 0; i < preElements.length; i++)
            preElements[i].classList.add('prettyprint');
          prettyPrint();
        })();
      </script>
      <script src="https://www.google-analytics.com/urchin.js" type="text/javascript"></script>
      <script src="https://www.google-analytics.com/ga.js" type="text/javascript"></script>
      <script type="text/javascript">
        // chrome doc tracking
        try {
          var engdocs = _gat._getTracker("YT-10763712-2");
          engdocs._trackPageview();
        } catch(err) {}
        // code.google.com site-wide tracking
        try {
          _uacct="UA-18071-1";
          _uanchor=1;
          _uff=0;
          urchinTracker();
        }
        catch(e) {/* urchinTracker not available. */}
      </script>
      <script>
        (function() {
          var cx = '002967670403910741006:61_cvzfqtno';
          var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
          gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
        })();
      </script>
  
    </div>
  </div>
</html>

