<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="static/css/site.css" rel="stylesheet" type="text/css">
    <link href="static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href="//www.google.com/images/icons/product/chrome-16.png" rel="icon" type="image/ico">
    <link href="static/css/api.css" rel="stylesheet" type="text/css">
    <title>chrome.declarativeWebRequest - Google Chrome</title>
  </head>
  <body>
    <a id="top"></a>
    <div id="header">
      <span id="logo">
        <a href="http://code.google.com/"><img src="static/images/chrome_logo.gif" alt="Google Code Labs"></a>
      </span>
      <span id="cse">
        <gcse:searchbox-only enableAutoComplete="true" autoCompleteMatchTyple="prefix"></gcse:searchbox-only>
      </span>
    </div>
    <a id="gc-topnav-anchor"></a>
    <div id="gc-topnav">
      <h1>Google Chrome 扩展程序（非官方中文版）</h1>
      <ul id="home" class="gc-topnav-tabs">
        <li id="home_link">
          <!--@<a href="index.html" title="Google Chrome 扩展程序 home page"><div>Home</div></a>-->
          <a href="index.html" title="Google Chrome 扩展程序主页"><div>主页</div></a>
        </li>
        <li id="docs_link">
          <!--@<a href="docs.html" title="Official Google Chrome 扩展程序 documentation"><div>Docs</div></a>-->
          <a href="docs.html" title="Google Chrome 扩展程序文档"><div>文档</div></a>
        </li>
        <li id="faq_link">
          <!--@<a href="faq.html" title="Answers to frequently asked questions about Google Chrome 扩展程序"><div>FAQ</div></a>-->
          <a href="faq.html" title="关于 Google Chrome 扩展程序常见问题的答案"><div>常见问题</div></a>
        </li>
        <li id="samples_link">
          <!--@<a href="samples.html" title="Sample 扩展程序 (with source code)"><div>Samples</div></a>-->
          <a href="samples.html" title="示例扩展程序（包含源代码）"><div>示例</div></a>
        </li>
        <li id="group_link">
          <!--<a href="http://groups.google.com/a/chromium.org/group/chromium-extensions" title="Google Chrome 扩展程序 developer forum"><div>Group</div></a>-->
          <a href="http://groups.google.com/a/chromium.org/group/chromium-extensions" title="Google Chrome 扩展程序开发人员论坛"><div>论坛（英文）</div></a>
        </li>
        <li id="so_link">
          <!--<a href="http://stackoverflow.com/questions/tagged/google-chrome-extension" title="[google-chrome-extension] tag on Stack Overflow"><div>Questions?</div></a>-->
          <a href="http://stackoverflow.com/questions/tagged/google-chrome-extension" title="Stack Overflow 上的 [google-chrome-extension] 标签"><div>问题？（英文）</div></a>
        </li>
      </ul>
    </div>
    <div id="gc-container">
      <div id="gc-sidebar">
        <ul 
            class="level1 ">
          <li class="level2">
                <a href="getstarted.html" class="level2 ">入门</a>
          </li>
          <li class="level2">
                <a href="overview.html" class="level2 ">概述</a>
          </li>
          <li class="level2">
                <a href="whats_new.html" class="level2 ">新增功能</a>
          </li>
          <li class="level2">
                <a href="devguide.html" class="level2 "></a>
              <ul 
                  class="level2 ">
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">浏览器用户界面</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="browserAction.html" class="level4 ">浏览器按钮</a>
                      </li>
                      <li class="level4">
                            <a href="contextMenus.html" class="level4 ">右键菜单</a>
                      </li>
                      <li class="level4">
                            <a href="notifications.html" class="level4 ">桌面通知</a>
                      </li>
                      <li class="level4">
                            <a href="omnibox.html" class="level4 ">多功能框</a>
                      </li>
                      <li class="level4">
                            <a href="options.html" class="level4 ">选项页面</a>
                      </li>
                      <li class="level4">
                            <a href="override.html" class="level4 ">替代页面</a>
                      </li>
                      <li class="level4">
                            <a href="pageAction.html" class="level4 ">页面按钮</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">浏览器交互</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="bookmarks.html" class="level4 ">书签</a>
                      </li>
                      <li class="level4">
                            <a href="cookies.html" class="level4 ">Cookie</a>
                      </li>
                      <li class="level4">
                            <a href="devtools.html" class="level4 ">开发者工具</a>
                      </li>
                      <li class="level4">
                            <a href="events.html" class="level4 ">事件</a>
                      </li>
                      <li class="level4">
                            <a href="history.html" class="level4 ">历史记录</a>
                      </li>
                      <li class="level4">
                            <a href="management.html" class="level4 ">管理</a>
                      </li>
                      <li class="level4">
                            <a href="tabs.html" class="level4 ">标签页</a>
                      </li>
                      <li class="level4">
                            <a href="windows.html" class="level4 ">窗口</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">实现</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="a11y.html" class="level4 ">辅助功能</a>
                      </li>
                      <li class="level4">
                            <a href="event_pages.html" class="level4 ">事件页面</a>
                      </li>
                      <li class="level4">
                            <a href="contentSecurityPolicy.html" class="level4 ">内容安全策略</a>
                      </li>
                      <li class="level4">
                            <a href="content_scripts.html" class="level4 ">内容脚本</a>
                      </li>
                      <li class="level4">
                            <a href="xhr.html" class="level4 ">跨站 XHR</a>
                      </li>
                      <li class="level4">
                            <a href="i18n.html" class="level4 ">国际化支持</a>
                      </li>
                      <li class="level4">
                            <a href="messaging.html" class="level4 ">消息传递</a>
                      </li>
                      <li class="level4">
                            <a href="permissions.html" class="level4 ">可选权限</a>
                      </li>
                      <li class="level4">
                            <a href="npapi.html" class="level4 ">NPAPI 插件</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">完成</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="hosting.html" class="level4 ">托管</a>
                      </li>
                      <li class="level4">
                            <a href="external_extensions.html" class="level4 ">其他发布选项</a>
                      </li>
                    </ul>
                </li>
              </ul>
          </li>
          <li class="level2">
                <a href="tutorials.html" class="level2 ">教程</a>
              <ul 
                  class="level2 ">
                <li class="level3">
                      <a href="tut_migration_to_manifest_v2.html" class="level3 ">清单文件版本2</a>
                </li>
                <li class="level3">
                      <a href="tut_debugging.html" class="level3 ">调试</a>
                </li>
                <li class="level3">
                      <a href="tut_analytics.html" class="level3 ">Google Analytics（分析）</a>
                </li>
                <li class="level3">
                      <a href="tut_oauth.html" class="level3 ">OAuth</a>
                </li>
              </ul>
          </li>
          <li class="level2">
                <span class="level2">参考</span>
              <ul 
                  class="level2 ">
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">格式</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="manifest.html" class="level4 ">清单文件</a>
                      </li>
                      <li class="level4">
                            <a href="match_patterns.html" class="level4 ">匹配表达式</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                      <a href="permission_warnings.html" class="level3 ">权限警告</a>
                </li>
                <li class="level3">
                      <a href="api_index.html" class="level3 ">chrome.* API</a>
                </li>
                <li class="level3">
                      <a href="api_other.html" class="level3 ">其他 API</a>
                </li>
              </ul>
          </li>
          <li class="level2">
                <span class="level2">更多</span>
              <ul 
                  class="level2 ">
                <li class="level3">
                      <a href="https://code.google.com/chrome/webstore/docs/index.html" class="level3 ">Chrome 网上应用店</a>
                </li>
                <li class="level3">
                      <a href="https://code.google.com/chrome/apps/docs/developers_guide.html" class="level3 ">托管应用</a>
                </li>
                <li class="level3">
                      <a href="themes.html" class="level3 ">主题背景</a>
                </li>
              </ul>
          </li>
        </ul>
      </div>
      <div id="gc-pagecontent">
        <h1 class="page_title">chrome.declarativeWebRequest</h1>
        
        
        <p class="warning">  <em><!--@Warning:-->警告：</em><!--@ This API is still under development. It is only  available for Chrome users on the-->  该 API 还在开发中，仅对  <span>    <strong><a href="http://www.chromium.org/getting-involved/dev-channel">dev</a></strong>    <!--@and-->和    <strong><a href="https://www.google.com/landing/chrome/beta/">beta</a></strong>  </span>  分支的 Chrome 用户可用。</p>
        <div id="toc">
          <h2><!--@Contents-->目录</h2>
          <ol>
            <li>
              <a href=#notes>说明</a>
            </li>
            <li>
              <a href=#manifest>清单文件</a>
            </li>
            <li>
              <a href=#rules>规则</a>
            </li>
            <li>
              <a href=#evaluation>条件与操作的求值</a>
            </li>
            <li>
              <a href=#precedences>使用优先级覆盖规则</a>
            </li>
            <li>
              <a href="#apiReference"><!--@API reference: -->API 参考：chrome.declarativeWebRequest</a>
              <ol>
                  <li><a href="#types"><!--@Types-->类型</a><ol>  <li>    <a href="#type-HeaderFilter">HeaderFilter</a>  </li>  <li>    <a href="#type-RequestMatcher">RequestMatcher</a>  </li>  <li>    <a href="#type-CancelRequest">CancelRequest</a>  </li>  <li>    <a href="#type-RedirectRequest">RedirectRequest</a>  </li>  <li>    <a href="#type-RedirectToTransparentImage">RedirectToTransparentImage</a>  </li>  <li>    <a href="#type-RedirectToEmptyDocument">RedirectToEmptyDocument</a>  </li>  <li>    <a href="#type-RedirectByRegEx">RedirectByRegEx</a>  </li>  <li>    <a href="#type-SetRequestHeader">SetRequestHeader</a>  </li>  <li>    <a href="#type-RemoveRequestHeader">RemoveRequestHeader</a>  </li>  <li>    <a href="#type-AddResponseHeader">AddResponseHeader</a>  </li>  <li>    <a href="#type-RemoveResponseHeader">RemoveResponseHeader</a>  </li>  <li>    <a href="#type-IgnoreRules">IgnoreRules</a>  </li>  <li>    <a href="#type-SendMessageToExtension">SendMessageToExtension</a>  </li>  <li>    <a href="#type-RequestCookie">RequestCookie</a>  </li>  <li>    <a href="#type-ResponseCookie">ResponseCookie</a>  </li>  <li>    <a href="#type-FilterResponseCookie">FilterResponseCookie</a>  </li>  <li>    <a href="#type-AddRequestCookie">AddRequestCookie</a>  </li>  <li>    <a href="#type-AddResponseCookie">AddResponseCookie</a>  </li>  <li>    <a href="#type-EditRequestCookie">EditRequestCookie</a>  </li>  <li>    <a href="#type-EditResponseCookie">EditResponseCookie</a>  </li>  <li>    <a href="#type-RemoveRequestCookie">RemoveRequestCookie</a>  </li>  <li>    <a href="#type-RemoveResponseCookie">RemoveResponseCookie</a>  </li></ol></li>
                  
                  
                  <li><a href="#events"><!--@Events-->事件</a><ol>  <li><a href="#event-onRequest">onRequest</a></li>  <li><a href="#event-onMessage">onMessage</a></li></ol></li>
                  <li><a href="#samples"><!--@Sample -->示例扩展程序</a></li>
              </ol>
            </li>
          </ol>
        </div>

<h2 id="notes"><!--@Notes-->说明</h2>

<p>
<!--@Use the-->使用 <code>chrome.declarativeWebRequest</code> <!--@module to intercept, block, or
modify requests in-flight. It is significantly faster than the <a
  href="webRequest.html"><code>chrome.webRequest</code> API</a> because you can
register rules that are evaluated in the browser rather than the
JavaScript engine which reduces roundtrip latencies and allows very high
efficiency.-->
模块实时地拦截、阻止或者修改请求，它比
<a href="webRequest.html"><code>chrome.webRequest</code> API</a>
要快得多，因为您注册的规则在浏览器而不是 JavaScript
引擎中求值，减少了来回延迟并且可以获得极高的效率。
</p>

<h2 id="manifest"><!--@Manifest-->清单文件</h2>

<p>
<!--@You must declare the "declarativeWebRequest" permission in the
<a href="manifest.html">extension manifest</a> to use this API,
along with <a href="manifest.html#permissions">host permissions</a> for any
hosts whose network requests you want to access.-->
您必须在<a href="manifest.html">扩展程序的清单文件</a>中声明
"declarativeWebRequest" 权限来使用这一
API，此外还需要您需要访问网络请求的所有主机的<a
href="declare_permissions.html">主机权限</a>。
</p>

<pre>{
  "name": "我的扩展程序",
  ...
<b>  "permissions": [
    "declarativeWebRequest",
    "*://*.google.com"
  ]</b>,
  ...
}</pre>

<p>
<!--@Note that certain types of non-sensitive requests do not require host
permissions:-->
注意，某些类型的不敏感请求不需要主机权限：
<ul>
  <li><code>CancelRequest</code>
  <li><code>IgnoreRules</code>
  <li><code>RedirectToEmptyDocument</code>
  <li><code>RedirectToTransparentImage</code>
  <li><code>RedirectByRegEx</code><!--@ when the redirect destination has
    the same domain as the original request-->，并且重定向目标与原请求的域名相同
  <li><code>RedirectRequest</code><!--@ when the redirect destination has
    the same domain as the original request-->，并且重定向目标与原请求的域名相同
</ul>

<h2 id="rules"><!--@Rules-->规则</h2>

<p>
<!--@The Declarative Web Request API follows the concepts of the <a
  href="events.html#declarative">Declarative API</a>. You can register rules to
the <code>chrome.declarativeWebRequest.onRequest</code> event object.-->
声明式网络请求 API 遵循<a href="events.html#declarative">声明式 API</a>
的概念，您可以向 <code>chrome.declarativeWebRequest.onRequest</code>
事件对象注册规则。
</p>

<p>
<!--@The Declarative Web Request API supports a single type of match criteria, the
<code>RequestMatcher</code>. The <code>RequestMatcher</code> matches network
requests if and only if all listed criteria are met. The following
<code>RequestMatcher</code> would match a network request when the user enters
"http://www.example.com" in the URL bar:-->
声明式网络请求API支持一种匹配条件的类型，即
<code>RequestMatcher</code>，当且仅当列出的所有条件都满足时
<code>RequestMatcher</code> 才会匹配网络请求。当用户在 URL
栏中输入“http://www.example.com”时如下的 <code>RequestMatcher</code>
将匹配这一网络请求：
</p>

<pre>
var matcher = new chrome.declarativeWebRequest.RequestMatcher({
  url: { hostSuffix: 'example.com', schemes: ['http'] },
  resourceType: ['main_frame']
  });
</pre>

<p>
<!--@Requests to "https://www.example.com" would be rejected by the
<code>RequestMatcher</code> due to the scheme. Also all requests for an embedded
iframe would be rejected due to the <code>resourceType</code>.-->
向“https://www.example.com”发出的请求因为协议的原因不会被
<code>RequestMatcher</code> 匹配，并且由于
<code>resourceType</code>，所有内嵌框架的请求也不会匹配。
</p>

<p class="note">
<strong><!--@Note:-->注意：</strong><!--@ All conditions and actions are created via a constructor
as shown in the example above.-->所有条件与操作都必须通过上述例子中所示的构造函数创建。
<p>

<p>
<!--@In order to cancel all requests to "example.com", you can define a rule as
follows:-->
为了取消所有发送至“example.com”的请求，您可以定义如下规则：
</p>
<pre>
var rule = {
  conditions: [
    new chrome.declarativeWebRequest.RequestMatcher({
      url: { hostSuffix: 'example.com' } })
  ],
  actions: [
    new chrome.declarativeWebRequest.CancelRequest()
  ]};
</pre>

<p>
<!--@In order to cancel all requests to "example.com" and "foobar.com", you can add a
second condition, as each condition is sufficient to trigger all specified
actions:-->
为了取消发送至“example.com”以及“foobar.com”的所有请求，您可以添加第二个条件，因为每个条件都足以触发所有指定的操作：
</p>
<pre>
var rule2 = {
  conditions: [
    new chrome.declarativeWebRequest.RequestMatcher({
      url: { hostSuffix: 'example.com' } }),
    new chrome.declarativeWebRequest.RequestMatcher({
      url: { hostSuffix: 'foobar.com' } })
  ],
  actions: [
    new chrome.declarativeWebRequest.CancelRequest()
  ]};
</pre>

<p>
<!--@Register rules as follows:-->
如下所示注册规则：
</p>
<pre>
chrome.declarativeWebRequest.onRequest.addRules([rule2]);
</pre>

<p class="note">
<strong><!--@Note:-->注意：</strong><!--@ You should always register or unregister rules in bulk rather than
individually because each of these operations recreates internal data
structures.  This re-creation is computationally expensive but facilitates a
very fast URL matching algorithm for hundreds of thousands of URLs.-->您始终应该一次性批量注册或取消注册规则，而不是单独进行，因为每一次这样的操作都需要重新创建内部的数据结构，这一重新创建的过程需要大量的计算，但是可以利用一种极快的
URL 匹配算法，用于几十万个 URL。
</p>


<h2 id="evaluation"><!--@Evaluation of conditions and actions-->条件与操作的求值</h2>

<p>
<!--@The Declarative Web Request API follows the
<a href="webRequest.html#life_cycle">Life cycle model for web requests</a> of
the <a href="webRequest.html">Web Request API</a>. This means that conditions
can only be tested at specific stages of a web request and, likewise, actions
can also only be executed at specific stages. The following tables list the
request stages that are compatible with conditions and actions.-->
声明式网络请求 API 遵循<a href="webRequest.html#life_cycle">网络请求 API
的生命周期模型</a>，这意味着条件只能在网络请求的特定阶段测试，同样地，操作也只能在特定阶段执行。下表列出了与条件和操作兼容的请求阶段。
</p>

<p>
<table>
  <tr>
    <th colspan="5"><!--@Request stages during which condition attributes can be processed.-->能够处理条件属性的请求阶段：
  </tr>
  <tr>
    <th><!--@Condition attribute-->条件属性
    <th>onBeforeRequest
    <th>onBeforeSendHeaders
    <th>onHeadersReceived
    <th>onAuthRequired
  </tr>
  <tr><td>url<td>✓<td>✓<td>✓<td>✓
  <tr><td>resourceType<td>✓<td>✓<td>✓<td>✓
  <tr><td>contentType<td><td><td>✓<td>
  <tr><td>excludeContentType<td><td><td>✓<td>
  <tr><td>responseHeaders<td><td><td>✓<td>
  <tr><td>excludeResponseHeaders<td><td><td>✓<td>
  <tr><td>requestHeaders<td><td>✓<td><td>
  <tr><td>excludeRequestHeaders<td><td>✓<td><td>
  <tr><td>thirdPartyForCookies<td>✓<td>✓<td>✓<td>✓
  <tr>
    <th colspan="5" style="padding-top:2em"><!--@Request stages during which actions can be executed.-->能够执行操作的请求阶段：
  </tr>
  <tr>
    <th><!--@Event-->操作
    <th>onBeforeRequest
    <th>onBeforeSendHeaders
    <th>onHeadersReceived
    <th>onAuthRequired
  </tr>
  <tr><td>AddRequestCookie<td><td>✓<td><td>
  <tr><td>AddResponseCookie<td><td><td>✓<td>
  <tr><td>AddResponseHeader<td><td><td>✓<td>
  <tr><td>CancelRequest<td>✓<td>✓<td>✓<td>✓
  <tr><td>EditRequestCookie<td><td>✓<td><td>
  <tr><td>EditResponseCookie<td><td><td>✓<td>
  <tr><td>IgnoreRules<td>✓<td>✓<td>✓<td>✓
  <tr><td>RedirectByRegEx<td>✓<td><td><td>
  <tr><td>RedirectRequest<td>✓<td><td><td>
  <tr><td>RedirectToEmptyDocument<td>✓<td><td><td>
  <tr><td>RedirectToTransparentImage<td>✓<td><td><td>
  <tr><td>RemoveRequestCookie<td><td>✓<td><td>
  <tr><td>RemoveRequestHeader<td><td>✓<td><td>
  <tr><td>RemoveResponseCookie<td><td><td>✓<td>
  <tr><td>RemoveResponseHeader<td><td><td>✓<td>
  <tr><td>SendMessageToExtension<td>✓<td>✓<td>✓<td>✓
  <tr><td>SetRequestHeader<td><td>✓<td><td>
</table>
</p>

<p>
<strong><!--@Note:-->注意：</strong><!--@ Applicable stages can be further constrained by using the
"stages" attribute.-->适用的阶段可以使用 "stages" 属性进一步地约束。
</p>
<p>
<strong><!--@Example:-->例子：</strong><!--@ It is possible to combine a
<code>new chrome.declarativeWebRequest.RequestMatcher({contentType: ["image/jpeg"]})</code>
condition with a <code>new chrome.declarativeWebRequest.CancelRequest()</code>
action because both of them can be evaluated in the onHeadersReceived stage.
It is, however, impossible to combine the request matcher with a
<code>new chrome.declarativeWebRequest.RedirectToTransparentImage()</code>
because redirects cannot be executed any more by the time the content
type has been determined.-->可以将
<code>new chrome.declarativeWebRequest.RequestMatcher({contentType: ["image/jpeg"]))</code>
条件与
<code>new chrome.declarativeWebRequest.CancelRequest()</code>
操作组合，因为它们都可以在 onHeadersReceived
阶段求值，然而不能将该请求匹配器与
<code>new chrome.declarativeWebRequest.RedirectToTransparentImage()</code>
组合，因为内容类型确定后就不能再进行重定向了。
</p>

<h2 id="precedences"><!--@Using priorities to override rules-->使用优先级覆盖规则</h2>

<p>
<!--@Rules can be associated with priorities as described in the
<a href="events.html#declarative">Events API</a>. This mechanism can be used
to express exceptions. The following example will block all requests to
images named "evil.jpg" except on the server "myserver.com".-->
规则中可以包含优先级，如<a href="events.html#declarative">事件 API</a>
中所述，这种机制可以用来表达例外。如下例子将阻止除了来自服务器
"myserver.com" 以外所有名称为 "evil.jpg" 的图片请求，。
</p>

<pre>
var rule1 = {
  priority: 100,
  conditions: [
    new chrome.declarativeWebRequest.RequestMatcher({
        url: { pathEquals: 'evil.jpg' } })
  ],
  actions: [
    new chrome.declarativeWebRequest.CancelRequest()
  ]
};
var rule2 = {
  priority: 1000,
  conditions: [
    new chrome.declarativeWebRequest.RequestMatcher({
      url: { hostSuffix: '.myserver.com' } })
  ],
  actions: [
    new chrome.declarativeWebRequest.IgnoreRules({
      lowerPriorityThan: 1000 })
  ]
};
chrome.declarativeWebRequest.onRequest.addRules([rule1, rule2]);
</pre>

<p>
<!--@It is important to recognize that the <code>IgnoreRules</code> action is not
persisted across <a href="#evaluation">request stages</a>. All conditions of
all rules are evaluated at each stage of a web request. If an
<code>IgnoreRules</code> action is executed, it applies only to other actions
that are executed for the same web request in the same stage.-->
值得重视的是，<code>IgnoreRules</code>
操作并不会在<a href="#evaluation">请求阶段</a>之间保留。所有规则的所有条件都在每一个网络请求阶段求值，如果执行了
<code>IgnoreRules</code>
操作，它仅应用于同一网络请求在同一阶段执行的其他操作。
</p>
        <h2 id="apiReference"><!--@API Reference: chrome.declarativeWebRequest-->API 参考：chrome.declarativeWebRequest</h2>
        <div class="api_reference">
            <h3 id="types"><!--@Types-->类型</h3>
              <div>
                <h3 id="type-HeaderFilter">HeaderFilter</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    通过各种条件过滤请求头信息，多个条件将同时求值。
                  </dd>    <h4 id="HeaderFilter-properties">
                    <!--@Properties of --><a href="#type-HeaderFilter">HeaderFilter</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-HeaderFilter-namePrefix"></a>
                      <dt>
                        <span class="variable">namePrefix</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        如果头信息的名称以指定字符串开头则匹配。
                      </dd>
                    </div>
                    <div>
                      <a name="property-HeaderFilter-nameSuffix"></a>
                      <dt>
                        <span class="variable">nameSuffix</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        如果头信息的名称以指定字符串结尾则匹配。
                      </dd>
                    </div>
                    <div>
                      <a name="property-HeaderFilter-nameContains"></a>
                      <dt>
                        <span class="variable">nameContains</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of string or 
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        如果头信息的名称包含所有指定的字符串则匹配。
                      </dd>
                    </div>
                    <div>
                      <a name="property-HeaderFilter-nameEquals"></a>
                      <dt>
                        <span class="variable">nameEquals</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        如果头信息的名称与指定字符串相同则匹配。
                      </dd>
                    </div>
                    <div>
                      <a name="property-HeaderFilter-valuePrefix"></a>
                      <dt>
                        <span class="variable">valuePrefix</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        如果头信息的值以指定字符串开头则匹配。
                      </dd>
                    </div>
                    <div>
                      <a name="property-HeaderFilter-valueSuffix"></a>
                      <dt>
                        <span class="variable">valueSuffix</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        如果头信息的值以指定字符串结尾则匹配。
                      </dd>
                    </div>
                    <div>
                      <a name="property-HeaderFilter-valueContains"></a>
                      <dt>
                        <span class="variable">valueContains</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of string or 
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        如果头信息的值包含所有指定的字符串则匹配。
                      </dd>
                    </div>
                    <div>
                      <a name="property-HeaderFilter-valueEquals"></a>
                      <dt>
                        <span class="variable">valueEquals</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        如果头信息的值与指定字符串相同则匹配。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-RequestMatcher">RequestMatcher</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    通过各种条件匹配网络事件。
                  </dd>    <h4 id="RequestMatcher-properties">
                    <!--@Properties of --><a href="#type-RequestMatcher">RequestMatcher</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-RequestMatcher-url"></a>
                      <dt>
                        <span class="variable">url</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            <a href="events.html#type-UrlFilter">events.UrlFilter</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        如果请求所对应的 URL 满足 UrlFilter 的条件则匹配。
                      </dd>
                    </div>
                    <div>
                      <a name="property-RequestMatcher-firstPartyForCookiesUrl"></a>
                      <dt>
                        <span class="variable">firstPartyForCookiesUrl</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            <a href="events.html#type-UrlFilter">events.UrlFilter</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        如果请求的“第一方”URL 满足 UrlFilter 的条件则匹配，请求的“第一方”URL（如果存在的话）可能与请求的目标 URL 不同，描述的是相对于第三方 Cookie 检查的“第一方”。
                      </dd>
                    </div>
                    <div>
                      <a name="property-RequestMatcher-resourceType"></a>
                      <dt>
                        <span class="variable">resourceType</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of enumerated string ["main_frame", "sub_frame", "stylesheet", "script", "image", "object", "xmlhttprequest", "other"]
                          )
                        </span>
                      </dt>
                      <dd>
                        如果请求的类型包含在列表中则匹配，不匹配指定的任何类型的请求将被过滤出去。
                      </dd>
                    </div>
                    <div>
                      <a name="property-RequestMatcher-contentType"></a>
                      <dt>
                        <span class="variable">contentType</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of string
                          )
                        </span>
                      </dt>
                      <dd>
                        如果响应的 MIME 媒体类型（来自 HTTP Content-Type 头信息）包含在列表中则匹配。
                      </dd>
                    </div>
                    <div>
                      <a name="property-RequestMatcher-excludeContentType"></a>
                      <dt>
                        <span class="variable">excludeContentType</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of string
                          )
                        </span>
                      </dt>
                      <dd>
                        如果响应的 MIME 媒体类型（来自 HTTP Content-Type 头信息）<em>没有</em>包含在列表中则匹配。
                      </dd>
                    </div>
                    <div>
                      <a name="property-RequestMatcher-requestHeaders"></a>
                      <dt>
                        <span class="variable">requestHeaders</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of <a href="declarativeWebRequest.html#type-HeaderFilter">HeaderFilter</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        如果某些请求头信息匹配 HeaderFilter 中的某一个则匹配该请求。
                      </dd>
                    </div>
                    <div>
                      <a name="property-RequestMatcher-excludeRequestHeaders"></a>
                      <dt>
                        <span class="variable">excludeRequestHeaders</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of <a href="declarativeWebRequest.html#type-HeaderFilter">HeaderFilter</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        如果请求头信息都不匹配任何一个 HeaderFilter 则匹配该请求。
                      </dd>
                    </div>
                    <div>
                      <a name="property-RequestMatcher-responseHeaders"></a>
                      <dt>
                        <span class="variable">responseHeaders</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of <a href="declarativeWebRequest.html#type-HeaderFilter">HeaderFilter</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        如果某些响应头信息匹配 HeaderFilter 中的某一个则匹配该请求。
                      </dd>
                    </div>
                    <div>
                      <a name="property-RequestMatcher-excludeResponseHeaders"></a>
                      <dt>
                        <span class="variable">excludeResponseHeaders</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of <a href="declarativeWebRequest.html#type-HeaderFilter">HeaderFilter</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        如果响应头信息都不匹配任何一个 HeaderFilter 则匹配该请求。
                      </dd>
                    </div>
                    <div>
                      <a name="property-RequestMatcher-thirdPartyForCookies"></a>
                      <dt>
                        <span class="variable">thirdPartyForCookies</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            boolean
                          )
                        </span>
                      </dt>
                      <dd>
                        如果设为 true，则匹配受第三方 Cookie 策略约束的请求；如果设为 false，则匹配所有其它请求。
                      </dd>
                    </div>
                    <div>
                      <a name="property-RequestMatcher-stages"></a>
                      <dt>
                        <span class="variable">stages</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of enumerated string ["onBeforeRequest", "onBeforeSendHeaders", "onHeadersReceived", "onAuthRequired"]
                          )
                        </span>
                      </dt>
                      <dd>
                        包含描述阶段的字符串列表，允许的值包括 'onBeforeRequest'、'onBeforeSendHeaders'、'onHeadersReceived'、'onAuthRequired'。如果该属性存在的话，它会将适用的阶段限制在这一列表中。注意整个条件只能在与所有属性兼容的阶段中适用。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-CancelRequest">CancelRequest</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    声明式事件操作，取消网络请求。
                  </dd>  </div>
              </div>
              <div>
                <h3 id="type-RedirectRequest">RedirectRequest</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    声明式事件操作，重定向网络请求。
                  </dd>    <h4 id="RedirectRequest-properties">
                    <!--@Properties of --><a href="#type-RedirectRequest">RedirectRequest</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-RedirectRequest-redirectUrl"></a>
                      <dt>
                        <span class="variable">redirectUrl</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        请求重定向的目标。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-RedirectToTransparentImage">RedirectToTransparentImage</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    声明式事件操作，将网络请求重定向至透明图片。
                  </dd>  </div>
              </div>
              <div>
                <h3 id="type-RedirectToEmptyDocument">RedirectToEmptyDocument</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    声明式事件操作，将网络请求重定向至空文档。
                  </dd>  </div>
              </div>
              <div>
                <h3 id="type-RedirectByRegEx">RedirectByRegEx</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    对 URL 应用正则表达式，重定向请求。正则表达式采用 <a href="http://code.google.com/p/re2/wiki/Syntax">RE2 语法</a>。
                  </dd>    <h4 id="RedirectByRegEx-properties">
                    <!--@Properties of --><a href="#type-RedirectByRegEx">RedirectByRegEx</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-RedirectByRegEx-from"></a>
                      <dt>
                        <span class="variable">from</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        匹配表达式，可以包含捕获性分组。为了更接近 JavaScript 正则表达式，捕获性分组以 Perl 语法（$1、$2……），而不是 RE2 语法（\1、\2……）引用。
                      </dd>
                    </div>
                    <div>
                      <a name="property-RedirectByRegEx-to"></a>
                      <dt>
                        <span class="variable">to</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        目标表达式。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-SetRequestHeader">SetRequestHeader</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    将指定名称的请求头信息设置为指定值。如果指定名称的头信息原来不存在，则会创建新的。头信息名称的比较不区分大小写，且每个请求中每个请求头信息名称只会出现一次。
                  </dd>    <h4 id="SetRequestHeader-properties">
                    <!--@Properties of --><a href="#type-SetRequestHeader">SetRequestHeader</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-SetRequestHeader-name"></a>
                      <dt>
                        <span class="variable">name</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        HTTP 请求头信息的名称。
                      </dd>
                    </div>
                    <div>
                      <a name="property-SetRequestHeader-value"></a>
                      <dt>
                        <span class="variable">value</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        HTTP 请求头信息的值。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-RemoveRequestHeader">RemoveRequestHeader</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    移除指定名称的请求头信息。不要在同一请求的同一头信息名称上同时使用 SetRequestHeader 和 RemoveRequestHeader。每个请求中每个请求头信息名称只会出现一次。
                  </dd>    <h4 id="RemoveRequestHeader-properties">
                    <!--@Properties of --><a href="#type-RemoveRequestHeader">RemoveRequestHeader</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-RemoveRequestHeader-name"></a>
                      <dt>
                        <span class="variable">name</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        HTTP 请求头信息的名称（不区分大小写）。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-AddResponseHeader">AddResponseHeader</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    向当前网络请求的响应中添加响应头信息。由于多个响应头信息可能会使用相同的名称，您需要首先删除然后再添加新的响应头信息才能完成替换。
                  </dd>    <h4 id="AddResponseHeader-properties">
                    <!--@Properties of --><a href="#type-AddResponseHeader">AddResponseHeader</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-AddResponseHeader-name"></a>
                      <dt>
                        <span class="variable">name</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        HTTP 响应头信息的名称。
                      </dd>
                    </div>
                    <div>
                      <a name="property-AddResponseHeader-value"></a>
                      <dt>
                        <span class="variable">value</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        HTTP 响应头信息的值。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-RemoveResponseHeader">RemoveResponseHeader</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    删除指定名称和值的所有响应头信息。
                  </dd>    <h4 id="RemoveResponseHeader-properties">
                    <!--@Properties of --><a href="#type-RemoveResponseHeader">RemoveResponseHeader</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-RemoveResponseHeader-name"></a>
                      <dt>
                        <span class="variable">name</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        HTTP 请求头信息的名称（不区分大小写）。
                      </dd>
                    </div>
                    <div>
                      <a name="property-RemoveResponseHeader-value"></a>
                      <dt>
                        <span class="variable">value</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        HTTP 响应头信息的值（不区分大小写）。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-IgnoreRules">IgnoreRules</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    排除所有匹配指定条件的规则。
                  </dd>    <h4 id="IgnoreRules-properties">
                    <!--@Properties of --><a href="#type-IgnoreRules">IgnoreRules</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-IgnoreRules-lowerPriorityThan"></a>
                      <dt>
                        <span class="variable">lowerPriorityThan</span>
                        <span class="property">
                          (
                            
                            integer
                          )
                        </span>
                      </dt>
                      <dd>
                        如果设置的话，将忽略优先级低于指定值的规则。这一界限不是持久的，它只会影响同一网络请求阶段的规则与它们对应的操作。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-SendMessageToExtension">SendMessageToExtension</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    触发 <a href="declarativeWebRequest.html#event-onMessage">onMessage</a> 事件。
                  </dd>    <h4 id="SendMessageToExtension-properties">
                    <!--@Properties of --><a href="#type-SendMessageToExtension">SendMessageToExtension</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-SendMessageToExtension-message"></a>
                      <dt>
                        <span class="variable">message</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        传递给事件处理函数的词典中 <code>message</code> 属性的值。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-RequestCookie">RequestCookie</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    用于过滤或指定 HTTP 请求中的 Cookie。
                  </dd>    <h4 id="RequestCookie-properties">
                    <!--@Properties of --><a href="#type-RequestCookie">RequestCookie</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-RequestCookie-name"></a>
                      <dt>
                        <span class="variable">name</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的名称。
                      </dd>
                    </div>
                    <div>
                      <a name="property-RequestCookie-value"></a>
                      <dt>
                        <span class="variable">value</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的值，可以填充在双引号中。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-ResponseCookie">ResponseCookie</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    用于指定 HTTP 响应中的 Cookie。
                  </dd>    <h4 id="ResponseCookie-properties">
                    <!--@Properties of --><a href="#type-ResponseCookie">ResponseCookie</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-ResponseCookie-name"></a>
                      <dt>
                        <span class="variable">name</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的名称。
                      </dd>
                    </div>
                    <div>
                      <a name="property-ResponseCookie-value"></a>
                      <dt>
                        <span class="variable">value</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的值，可以填充在双引号中。
                      </dd>
                    </div>
                    <div>
                      <a name="property-ResponseCookie-expires"></a>
                      <dt>
                        <span class="variable">expires</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的 Expires 属性值。
                      </dd>
                    </div>
                    <div>
                      <a name="property-ResponseCookie-maxAge"></a>
                      <dt>
                        <span class="variable">maxAge</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            double
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的 Max-Age 属性值。
                      </dd>
                    </div>
                    <div>
                      <a name="property-ResponseCookie-domain"></a>
                      <dt>
                        <span class="variable">domain</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的 Domain 属性值。
                      </dd>
                    </div>
                    <div>
                      <a name="property-ResponseCookie-path"></a>
                      <dt>
                        <span class="variable">path</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的 Path 属性值。
                      </dd>
                    </div>
                    <div>
                      <a name="property-ResponseCookie-secure"></a>
                      <dt>
                        <span class="variable">secure</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的 Secure 属性是否存在。
                      </dd>
                    </div>
                    <div>
                      <a name="property-ResponseCookie-httpOnly"></a>
                      <dt>
                        <span class="variable">httpOnly</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的 HttpOnly 属性是否存在。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-FilterResponseCookie">FilterResponseCookie</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    用于 HTTP 响应 Cookie 的过滤器。
                  </dd>    <h4 id="FilterResponseCookie-properties">
                    <!--@Properties of --><a href="#type-FilterResponseCookie">FilterResponseCookie</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-FilterResponseCookie-name"></a>
                      <dt>
                        <span class="variable">name</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的名称。
                      </dd>
                    </div>
                    <div>
                      <a name="property-FilterResponseCookie-value"></a>
                      <dt>
                        <span class="variable">value</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的值，可以用双引号填充。
                      </dd>
                    </div>
                    <div>
                      <a name="property-FilterResponseCookie-expires"></a>
                      <dt>
                        <span class="variable">expires</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的 Expires 属性值。
                      </dd>
                    </div>
                    <div>
                      <a name="property-FilterResponseCookie-maxAge"></a>
                      <dt>
                        <span class="variable">maxAge</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            double
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的 Max-Age 属性值。
                      </dd>
                    </div>
                    <div>
                      <a name="property-FilterResponseCookie-domain"></a>
                      <dt>
                        <span class="variable">domain</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的 Domain 属性值。
                      </dd>
                    </div>
                    <div>
                      <a name="property-FilterResponseCookie-path"></a>
                      <dt>
                        <span class="variable">path</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的 Path 属性值。
                      </dd>
                    </div>
                    <div>
                      <a name="property-FilterResponseCookie-secure"></a>
                      <dt>
                        <span class="variable">secure</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的 Secure 属性是否存在。
                      </dd>
                    </div>
                    <div>
                      <a name="property-FilterResponseCookie-httpOnly"></a>
                      <dt>
                        <span class="variable">httpOnly</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 的 HttpOnly 属性是否存在。
                      </dd>
                    </div>
                    <div>
                      <a name="property-FilterResponseCookie-ageUpperBound"></a>
                      <dt>
                        <span class="variable">ageUpperBound</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            integer
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 生命周期的上界（包含）（以当前时间之后多少秒的形式指定），只有过期日期时间在区间 [现在, 现在 + ageUpperBound] 内的 Cookie 满足这一条件，会话 Cookie 以及过期时间在过去的 Cookie 不满足该过滤器的条件。Cookie 的生命周期通过 Cookie 的 'max-age' 或 'expires' 属性来计算，如果两者都指定则使用 'max-age' 来计算 Cookie 的生命周期。
                      </dd>
                    </div>
                    <div>
                      <a name="property-FilterResponseCookie-ageLowerBound"></a>
                      <dt>
                        <span class="variable">ageLowerBound</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            integer
                          )
                        </span>
                      </dt>
                      <dd>
                        Cookie 生命周期的下界（包含）（以当前时间之后多少秒的形式指定），只有过期日期时间在区间 [现在 + ageLowerBound, 现在] 内的 Cookie 满足这一条件，会话 Cookie 以及过期时间在过去的 Cookie 不满足该过滤器的条件。Cookie 的生命周期通过 Cookie 的 'max-age' 或 'expires' 属性来计算，如果两者都指定则使用 'max-age' 来计算 Cookie 的生命周期。
                      </dd>
                    </div>
                    <div>
                      <a name="property-FilterResponseCookie-sessionCookie"></a>
                      <dt>
                        <span class="variable">sessionCookie</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            boolean
                          )
                        </span>
                      </dt>
                      <dd>
                        过滤会话 Cookie，会话 Cookie 没有 'max-age' 或 'expires' 属性指定的生命周期。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-AddRequestCookie">AddRequestCookie</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    向请求中添加或者覆盖（如果相同名称的 Cookie 已经存在）Cookie。注意，您应该首选 Cookie API，因为它在计算上开销更少。
                  </dd>    <h4 id="AddRequestCookie-properties">
                    <!--@Properties of --><a href="#type-AddRequestCookie">AddRequestCookie</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-AddRequestCookie-cookie"></a>
                      <dt>
                        <span class="variable">cookie</span>
                        <span class="property">
                          (
                            
                            <a href="declarativeWebRequest.html#type-RequestCookie">RequestCookie</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        要添加至请求的 Cookie，所有字段都不能为 undefined。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-AddResponseCookie">AddResponseCookie</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    向响应中添加或者覆盖（如果相同名称的 Cookie 已经存在）Cookie。注意，您应该首选 Cookie API，因为它在计算上开销更少。
                  </dd>    <h4 id="AddResponseCookie-properties">
                    <!--@Properties of --><a href="#type-AddResponseCookie">AddResponseCookie</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-AddResponseCookie-cookie"></a>
                      <dt>
                        <span class="variable">cookie</span>
                        <span class="property">
                          (
                            
                            <a href="declarativeWebRequest.html#type-ResponseCookie">ResponseCookie</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        要添加至响应的 Cookie，name 与 value 必须指定。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-EditRequestCookie">EditRequestCookie</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    编辑请求中的一个或多个 Cookie。注意，您应该首选 Cookie API，因为它在计算上开销更少。
                  </dd>    <h4 id="EditRequestCookie-properties">
                    <!--@Properties of --><a href="#type-EditRequestCookie">EditRequestCookie</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-EditRequestCookie-filter"></a>
                      <dt>
                        <span class="variable">filter</span>
                        <span class="property">
                          (
                            
                            <a href="declarativeWebRequest.html#type-RequestCookie">RequestCookie</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        过滤要修改的 Cookie，所有空项都会忽略。
                      </dd>
                    </div>
                    <div>
                      <a name="property-EditRequestCookie-modification"></a>
                      <dt>
                        <span class="variable">modification</span>
                        <span class="property">
                          (
                            
                            <a href="declarativeWebRequest.html#type-RequestCookie">RequestCookie</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        在匹配过滤器的 Cookie 中应该覆盖的属性，设置为空字符串的属性将移除。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-EditResponseCookie">EditResponseCookie</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    编辑响应中的一个或多个 Cookie。注意，您应该首选 Cookie API，因为它在计算上开销更少。
                  </dd>    <h4 id="EditResponseCookie-properties">
                    <!--@Properties of --><a href="#type-EditResponseCookie">EditResponseCookie</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-EditResponseCookie-filter"></a>
                      <dt>
                        <span class="variable">filter</span>
                        <span class="property">
                          (
                            
                            <a href="declarativeWebRequest.html#type-FilterResponseCookie">FilterResponseCookie</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        过滤要修改的 Cookie，所有空项都会忽略。
                      </dd>
                    </div>
                    <div>
                      <a name="property-EditResponseCookie-modification"></a>
                      <dt>
                        <span class="variable">modification</span>
                        <span class="property">
                          (
                            
                            <a href="declarativeWebRequest.html#type-ResponseCookie">ResponseCookie</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        在匹配过滤器的 Cookie 中应该覆盖的属性，设置为空字符串的属性将移除。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-RemoveRequestCookie">RemoveRequestCookie</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    移除请求中的一个或多个 Cookie。注意，您应该首选 Cookie API，因为它在计算上开销更少。
                  </dd>    <h4 id="RemoveRequestCookie-properties">
                    <!--@Properties of --><a href="#type-RemoveRequestCookie">RemoveRequestCookie</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-RemoveRequestCookie-filter"></a>
                      <dt>
                        <span class="variable">filter</span>
                        <span class="property">
                          (
                            
                            <a href="declarativeWebRequest.html#type-RequestCookie">RequestCookie</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        过滤要移除的 Cookie，所有空项都会忽略。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-RemoveResponseCookie">RemoveResponseCookie</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    移除响应中的一个或多个 Cookie。注意，您应该首选 Cookie API，因为它在计算上开销更少。
                  </dd>    <h4 id="RemoveResponseCookie-properties">
                    <!--@Properties of --><a href="#type-RemoveResponseCookie">RemoveResponseCookie</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-RemoveResponseCookie-filter"></a>
                      <dt>
                        <span class="variable">filter</span>
                        <span class="property">
                          (
                            
                            <a href="declarativeWebRequest.html#type-FilterResponseCookie">FilterResponseCookie</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        过滤要移除的 Cookie，所有空项都会忽略。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
            <h3 id="events"><!--@Events-->事件</h3>
              <div>
                <h4 id="event-onRequest">onRequest</h4>
                <div class="summary">
                  <span class="subdued">chrome.declarativeWebRequest.</span>onRequest<span class="subdued">.addListener</span>(function()<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
                    <p><!--@See-->参见 <a href="events.html#method-Event-addRules">events.Event.addRules</a>.</p>
                    <h4><!--@Supported conditions-->支持的条件</h4>
                    <dl>
                      <div><dt><a href="declarativeWebRequest.html#type-RequestMatcher">RequestMatcher</a></dt></div>
                    </dl>
                    <h4><!--@Supported actions-->支持的操作</h4>
                    <dl>
                      <div><dt><a href="declarativeWebRequest.html#type-AddRequestCookie">AddRequestCookie</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-AddResponseCookie">AddResponseCookie</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-AddResponseHeader">AddResponseHeader</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-CancelRequest">CancelRequest</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-EditRequestCookie">EditRequestCookie</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-EditResponseCookie">EditResponseCookie</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-RedirectRequest">RedirectRequest</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-RedirectToTransparentImage">RedirectToTransparentImage</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-RedirectToEmptyDocument">RedirectToEmptyDocument</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-RedirectByRegEx">RedirectByRegEx</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-RemoveRequestCookie">RemoveRequestCookie</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-RemoveResponseCookie">RemoveResponseCookie</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-RemoveRequestHeader">RemoveRequestHeader</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-RemoveResponseHeader">RemoveResponseHeader</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-SetRequestHeader">SetRequestHeader</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-SendMessageToExtension">SendMessageToExtension</a></dt></div><div><dt><a href="declarativeWebRequest.html#type-IgnoreRules">IgnoreRules</a></dt></div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="event-onMessage">onMessage</h4>
                <div class="summary">
                  <span class="subdued">chrome.declarativeWebRequest.</span>onMessage<span class="subdued">.addListener</span>(function(<span>object <span class="variable">details</span></span>)<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    当消息通过声明式网络请求 API 的 <a href="declarativeWebRequest.html#type-SendMessageToExtension">SendMessageToExtension</a> 操作发送时产生。
                  </p>      <h4><!--@Listener Parameters-->监听器参数</h4>
                    <dl>
                      <div>  <a name="property-onMessage-details"></a>  <dt>    <span class="variable">details</span>    <span class="property">      (                object      )    </span>  </dt>  <dd>    <dl>      <div>        <a name="property-details-message"></a>        <dt>          <span class="variable">message</span>          <span class="property">            (                            string            )          </span>        </dt>        <dd>          调用脚本发送的消息。        </dd>      </div>      <div>        <a name="property-details-stage"></a>        <dt>          <span class="variable">stage</span>          <span class="property">            (                            enumerated string ["onBeforeRequest", "onBeforeSendHeaders", "onHeadersReceived", "onAuthRequired"]            )          </span>        </dt>        <dd>          事件发生时网络请求所处的阶段。        </dd>      </div>      <div>        <a name="property-details-requestId"></a>        <dt>          <span class="variable">requestId</span>          <span class="property">            (                            string            )          </span>        </dt>        <dd>          请求标识符。请求标识符在浏览器会话中保证唯一，所以，它们可以用来联系同一请求的不同事件。        </dd>      </div>      <div>        <a name="property-details-url"></a>        <dt>          <span class="variable">url</span>          <span class="property">            (                            string            )          </span>        </dt>      </div>      <div>        <a name="property-details-method"></a>        <dt>          <span class="variable">method</span>          <span class="property">            (                            string            )          </span>        </dt>        <dd>          标准 HTTP 方法。        </dd>      </div>      <div>        <a name="property-details-frameId"></a>        <dt>          <span class="variable">frameId</span>          <span class="property">            (                            integer            )          </span>        </dt>        <dd>          0 表示请求发生在主框架中，正数表示发出请求的子框架标识符。如果载入了（子）框架的文档（<code>type</code> 为 <code>"main_frame"</code> 或 <code>"sub_frame"</code>），<code>frameId</code> 指定该框架的标识符，而不是外层框架的标识符。框架标识符在标签页中保证唯一。        </dd>      </div>      <div>        <a name="property-details-parentFrameId"></a>        <dt>          <span class="variable">parentFrameId</span>          <span class="property">            (                            integer            )          </span>        </dt>        <dd>          包含发送请求框架的框架（即父框架）标识符，如果不存在父框架则为 -1。        </dd>      </div>      <div>        <a name="property-details-tabId"></a>        <dt>          <span class="variable">tabId</span>          <span class="property">            (                            integer            )          </span>        </dt>        <dd>          产生请求的标签页标识符。如果请求与标签页无关则为 -1。        </dd>      </div>      <div>        <a name="property-details-type"></a>        <dt>          <span class="variable">type</span>          <span class="property">            (                            enumerated string ["main_frame", "sub_frame", "stylesheet", "script", "image", "object", "xmlhttprequest", "other"]            )          </span>        </dt>        <dd>          请求的资源将如何使用。        </dd>      </div>      <div>        <a name="property-details-timeStamp"></a>        <dt>          <span class="variable">timeStamp</span>          <span class="property">            (                            double            )          </span>        </dt>        <dd>          该信号触发的时间，以 1970 年 1 月 1 日午夜开始所经过的毫秒数表示。        </dd>      </div>    </dl>  </dd></div>
                    </dl>
                </div>
              </div>
        </div>
          <h2 id="samples"><!--@Sample 扩展程序 that use chrome.declarativeWebRequest-->使用chrome.declarativeWebRequest的示例扩展程序</h2>
            <li><strong><a href="samples.html#d5d930bdcf3f5e1753d0de5924a89a65">Event Page Example</a></strong>
            &ndash; Demonstrates usage and features of the event page
        </li>
            <li><strong><a href="samples.html#ecc227966949f60af19c444222a775d9">Catifier</a></strong>
            &ndash; Moar cats!
        </li>
      </div>
    </div>
  </body>
  <script>
    window.bootstrap = {
      api_names: [{"name":"alarms"},{"name":"bookmarks"},{"name":"browserAction"},{"name":"browsingData"},{"name":"commands"},{"name":"contentSettings"},{"name":"contextMenus"},{"name":"cookies"},{"name":"debugger"},{"name":"declarativeContent"},{"name":"declarativeWebRequest"},{"name":"devtools.inspectedWindow"},{"name":"devtools.network"},{"name":"devtools.panels"},{"name":"downloads"},{"name":"events"},{"name":"extension"},{"name":"fileBrowserHandler"},{"name":"fontSettings"},{"name":"history"},{"name":"i18n"},{"name":"idle"},{"name":"input.ime"},{"name":"management"},{"name":"omnibox"},{"name":"pageAction"},{"name":"pageCapture"},{"name":"permissions"},{"name":"privacy"},{"name":"proxy"},{"name":"pushMessaging"},{"name":"runtime"},{"name":"scriptBadge"},{"name":"sessionRestore"},{"name":"storage"},{"name":"tabCapture"},{"name":"tabs"},{"name":"topSites"},{"name":"tts"},{"name":"ttsEngine"},{"name":"types"},{"name":"webNavigation"},{"name":"webRequest"},{"name":"webstore"},{"last":true,"name":"windows"}].concat(
          [{"name":"experimental.devtools.audits"},{"name":"experimental.devtools.console"},{"name":"experimental.discovery"},{"name":"experimental.history"},{"name":"experimental.identity"},{"name":"experimental.infobars"},{"name":"experimental.processes"},{"name":"experimental.record"},{"name":"experimental.speechInput"},{"name":"experimental.systemInfo.cpu"},{"last":true,"name":"experimental.systemInfo.storage"}]),
      branchInfo: {"channels":[{"path":"stable","name":"Stable"},{"path":"dev","name":"Dev"},{"path":"beta","name":"Beta"},{"path":"trunk","name":"Trunk"}],"current":"stable","showWarning":false}
    };
  </script>
  <div id="gc-footer">
    <div class="text">
      <p>
        <!--@Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>,
        the content of this page is licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
        Attribution 3.0 License</a>, and code samples are licensed under the
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>.-->
        该页面翻译自
        <a href="https://developer.chrome.com/extensions/">Google Chrome Extensions</a>
        与
        <a href="https://developer.chrome.com/apps/">Google Chrome Apps</a>。除非特别<a href="https://code.google.com/policies.html#restrictions">说明</a>，该页面的内容遵循
        <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0
        License</a>，代码示例遵循
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>。
      </p>
      <p>
        <!--@©2012 Google-->
      </p>
      <script src="static/js/branch.js" type="text/javascript"></script>
      <script src="static/js/sidebar.js" type="text/javascript"></script>
      <script src="static/js/prettify.js" type="text/javascript"></script>
      <script>
        (function() {
          // Auto syntax highlight all pre tags.
          var preElements = document.getElementsByTagName('pre');
          for (var i = 0; i < preElements.length; i++)
            preElements[i].classList.add('prettyprint');
          prettyPrint();
        })();
      </script>
      <script src="https://www.google-analytics.com/urchin.js" type="text/javascript"></script>
      <script src="https://www.google-analytics.com/ga.js" type="text/javascript"></script>
      <script type="text/javascript">
        // chrome doc tracking
        try {
          var engdocs = _gat._getTracker("YT-10763712-2");
          engdocs._trackPageview();
        } catch(err) {}
        // code.google.com site-wide tracking
        try {
          _uacct="UA-18071-1";
          _uanchor=1;
          _uff=0;
          urchinTracker();
        }
        catch(e) {/* urchinTracker not available. */}
      </script>
      <script>
        (function() {
          var cx = '002967670403910741006:61_cvzfqtno';
          var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
          gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
        })();
      </script>
  
    </div>
  </div>
</html>

