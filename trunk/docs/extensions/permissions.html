<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="/trunk/static/css/site.css" rel="stylesheet" type="text/css">
    <link href="/trunk/static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="/trunk/static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href="//www.google.com/images/icons/product/chrome-16.png" rel="icon" type="image/ico">
    <link href="/trunk/static/css/api.css" rel="stylesheet" type="text/css">
    <title>chrome.permissions - Google Chrome 扩展程序/应用开发者文档（非官方中文版）</title>
  </head>
  <body>
    <div id="branchWarning" class="displayModeWarning">
      <span><!--@WARNING: this is the trunk documentation. It may not work with the stable release of Chrome.-->警告：这是 trunk 分支的文档，不一定能在稳定版本的 Chrome 浏览器中正常工作。</span>
      <select id="branchChooser">
        <option value=""><!--@Choose a different version...-->选择另一个版本...</option>
        <option value="stable">Stable</option>
        <option value="dev">Dev</option>
        <option value="beta">Beta</option>
        <option value="trunk">Trunk</option>
      </select>
    </div>
    <a id="top"></a>
    <div id="header">
      <span id="logo">
        <a href="http://code.google.com/" id="view-original"><img src="/trunk/static/images/chrome_logo.gif" alt="单击此处查看英文原文"></a>
        <script type="text/javascript">
          document.getElementById('view-original').href = "https://developer.chrome.com" + location.pathname;
        </script>
      </span>
      <span id="cse">
        <gcse:searchbox-only enableAutoComplete="true" autoCompleteMatchTyple="prefix"></gcse:searchbox-only>
      </span>
    </div>
    <a id="gc-topnav-anchor"></a>
    <div id="gc-topnav">
      <h1>Google Chrome 扩展程序（非官方中文版）</h1>
      <ul id="home" class="gc-topnav-tabs">
        <li id="home_link">
          <!--@<a href="index.html" title="Google Chrome 扩展程序 home page"><div>Home</div></a>-->
          <a href="index.html" title="Google Chrome 扩展程序主页"><div>主页</div></a>
        </li>
        <li id="docs_link">
          <!--@<a href="docs.html" title="Official Google Chrome 扩展程序 documentation"><div>Docs</div></a>-->
          <a href="docs.html" title="Google Chrome 扩展程序文档"><div>文档</div></a>
        </li>
        <li id="faq_link">
          <!--@<a href="faq.html" title="Answers to frequently asked questions about Google Chrome 扩展程序"><div>FAQ</div></a>-->
          <a href="faq.html" title="关于 Google Chrome 扩展程序常见问题的答案"><div>常见问题</div></a>
        </li>
        <li id="samples_link">
          <!--@<a href="samples.html" title="Sample 扩展程序 (with source code)"><div>Samples</div></a>-->
          <a href="samples.html" title="示例扩展程序（包含源代码）"><div>示例</div></a>
        </li>
        <li id="group_link">
          <!--<a href="http://groups.google.com/a/chromium.org/group/chromium-extensions" title="Google Chrome 扩展程序 developer forum"><div>Group</div></a>-->
          <a href="http://groups.google.com/a/chromium.org/group/chromium-extensions" title="Google Chrome 扩展程序开发人员论坛"><div>论坛（英文）</div></a>
        </li>
        <li id="so_link">
          <!--<a href="http://stackoverflow.com/questions/tagged/google-chrome-extension" title="[google-chrome-extension] tag on Stack Overflow"><div>Questions?</div></a>-->
          <a href="http://stackoverflow.com/questions/tagged/google-chrome-extension" title="Stack Overflow 上的 [google-chrome-extension] 标签"><div>问题？（英文）</div></a>
        </li>
      </ul>
    </div>
    <div id="gc-container">
      <div id="gc-sidebar">
        <ul 
            class="level1 ">
          <li class="level2">
                <a href="getstarted.html" class="level2 ">入门</a>
          </li>
          <li class="level2">
                <a href="overview.html" class="level2 ">概述</a>
          </li>
          <li class="level2">
                <a href="whats_new.html" class="level2 ">新增功能</a>
          </li>
          <li class="level2">
                <a href="devguide.html" class="level2 ">开发者指南</a>
              <ul 
                  class="level2 ">
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">浏览器用户界面</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="browserAction.html" class="level4 ">浏览器按钮</a>
                      </li>
                      <li class="level4">
                            <a href="contextMenus.html" class="level4 ">右键菜单</a>
                      </li>
                      <li class="level4">
                            <a href="notifications.html" class="level4 ">桌面通知</a>
                      </li>
                      <li class="level4">
                            <a href="omnibox.html" class="level4 ">多功能框</a>
                      </li>
                      <li class="level4">
                            <a href="options.html" class="level4 ">选项页面</a>
                      </li>
                      <li class="level4">
                            <a href="override.html" class="level4 ">替代页面</a>
                      </li>
                      <li class="level4">
                            <a href="pageAction.html" class="level4 ">页面按钮</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">浏览器交互</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="bookmarks.html" class="level4 ">书签</a>
                      </li>
                      <li class="level4">
                            <a href="cookies.html" class="level4 ">Cookie</a>
                      </li>
                      <li class="level4">
                            <a href="devtools.html" class="level4 ">开发者工具</a>
                      </li>
                      <li class="level4">
                            <a href="events.html" class="level4 ">事件</a>
                      </li>
                      <li class="level4">
                            <a href="history.html" class="level4 ">历史记录</a>
                      </li>
                      <li class="level4">
                            <a href="management.html" class="level4 ">管理</a>
                      </li>
                      <li class="level4">
                            <a href="tabs.html" class="level4 ">标签页</a>
                      </li>
                      <li class="level4">
                            <a href="windows.html" class="level4 ">窗口</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">实现</span>
                      <div class="toggleIndicator level3 toggled"></div>
                    </a>
                    <ul toggleable
                        class="level3 ">
                      <li class="level4">
                            <a href="a11y.html" class="level4 ">辅助功能</a>
                      </li>
                      <li class="level4">
                            <a href="event_pages.html" class="level4 ">事件页面</a>
                      </li>
                      <li class="level4">
                            <a href="contentSecurityPolicy.html" class="level4 ">内容安全策略</a>
                      </li>
                      <li class="level4">
                            <a href="content_scripts.html" class="level4 ">内容脚本</a>
                      </li>
                      <li class="level4">
                            <a href="xhr.html" class="level4 ">跨站 XHR</a>
                      </li>
                      <li class="level4">
                            <a href="i18n.html" class="level4 ">国际化支持</a>
                      </li>
                      <li class="level4">
                            <a href="messaging.html" class="level4 ">消息传递</a>
                      </li>
                      <li class="level4">
                            <a  class="level4 selected">可选权限</a>
                      </li>
                      <li class="level4">
                            <a href="npapi.html" class="level4 ">NPAPI 插件</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">完成</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="hosting.html" class="level4 ">托管</a>
                      </li>
                      <li class="level4">
                            <a href="external_extensions.html" class="level4 ">其他发布选项</a>
                      </li>
                    </ul>
                </li>
              </ul>
          </li>
          <li class="level2">
                <a href="tutorials.html" class="level2 ">教程</a>
              <ul 
                  class="level2 ">
                <li class="level3">
                      <a href="tut_migration_to_manifest_v2.html" class="level3 ">清单文件版本2</a>
                </li>
                <li class="level3">
                      <a href="tut_debugging.html" class="level3 ">调试</a>
                </li>
                <li class="level3">
                      <a href="tut_analytics.html" class="level3 ">Google Analytics（分析）</a>
                </li>
                <li class="level3">
                      <a href="tut_oauth.html" class="level3 ">OAuth</a>
                </li>
              </ul>
          </li>
          <li class="level2">
                <span class="level2">参考</span>
              <ul 
                  class="level2 ">
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">格式</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="manifest.html" class="level4 ">清单文件</a>
                      </li>
                      <li class="level4">
                            <a href="match_patterns.html" class="level4 ">匹配表达式</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                      <a href="permission_warnings.html" class="level3 ">权限警告</a>
                </li>
                <li class="level3">
                      <a href="api_index.html" class="level3 ">chrome.* API</a>
                </li>
                <li class="level3">
                      <a href="api_other.html" class="level3 ">其他 API</a>
                </li>
              </ul>
          </li>
          <li class="level2">
                <span class="level2">更多</span>
              <ul 
                  class="level2 ">
                <li class="level3">
                      <a href="https://code.google.com/chrome/webstore/docs/index.html" class="level3 ">Chrome 网上应用店</a>
                </li>
                <li class="level3">
                      <a href="https://code.google.com/chrome/apps/docs/developers_guide.html" class="level3 ">托管应用</a>
                </li>
                <li class="level3">
                      <a href="themes.html" class="level3 ">主题背景</a>
                </li>
              </ul>
          </li>
        </ul>
      </div>
      <div id="gc-pagecontent">
        <h1 class="page_title">chrome.permissions</h1>
        
        
        
        <div id="toc">
          <h2><!--@Contents-->目录</h2>
          <ol>
            <li>
              <a href=#howto> 实现可选权限 </a>
              <ol>
                <li><a href=#types>    第一步：确定哪些权限是可选的，哪些是必需的</a></li><li><a href=#manifest> 第二步：在清单文件中声明可选权限 </a></li><li><a href=#request> 第三步：请求可选权限 </a></li><li><a href=#contains> 第四步：检查扩展程序的当前权限 </a></li><li><a href=#remove> 第五步：移除权限 </a></li>
              </ol>
            </li>
            <li>
              <a href="#apiReference"><!--@API reference: -->API 参考：chrome.permissions</a>
              <ol>
                  <li><a href="#types"><!--@Types-->类型</a><ol>  <li>    <a href="#type-Permissions">Permissions</a>  </li></ol></li>
                  
                  <li><a href="#methods"><!--@Methods-->方法</a><ol>  <li><a href="#method-getAll">getAll</a></li>  <li><a href="#method-contains">contains</a></li>  <li><a href="#method-request">request</a></li>  <li><a href="#method-remove">remove</a></li></ol></li>
                  <li><a href="#events"><!--@Events-->事件</a><ol>  <li><a href="#event-onAdded">onAdded</a></li>  <li><a href="#event-onRemoved">onRemoved</a></li></ol></li>
                  
              </ol>
            </li>
          </ol>
        </div>

<p id="classSummary">
  <!--@Use the-->使用 <code>chrome.permissions</code> <!--@module
  to implement optional permissions.
  As of Chrome 16, you can request optional permissions during your
  extension's regular application flow rather than at install time,
  so users understand why the permissions are needed
  and use only those that are necessary.-->
  模块来实现可选权限。从 Chrome 16
  开始，您可以在您的扩展程序正常使用的过程中请求可选权限，而不是在安装的时候，这样用户可以理解为什么需要这些权限，并且仅在必要时使用那些权限。
</p>

<p>
  <!--@For general information about permissions and details about each permission,
  see the <a href="declare_permissions.html">declare permissions</a> documentation.-->
  有关权限的一般信息以及每一种权限的细节，请参见<a href="declare_permissions.html">声明权限</a>文档。
</p>

<h2 id="howto"> <!--@Implementing optional permissions-->实现可选权限 </h2>

<h3 id="types">
  <!--@Step 1: Decide which permissions are optional and required-->
  第一步：确定哪些权限是可选的，哪些是必需的
</h3>
<p>
  <!--@Extensions should generally require permissions when they are needed for the
  extension's basic functionality and employ optional permissions for optional
  features.-->
  大体上说，实现扩展程序基本功能所需要的权限应该是必需的权限，可选功能需要的权限应该是可选的。
</p>

<p>
  <!--@Advantages of optional permissions:-->
  可选权限的优势：
  <ul>
    <li>
      <!--@Users run with less permissions since they enable only what is needed.-->
      用户以更少的权限运行扩展程序，因为他们仅启用确实需要的。
    </li>
    <li>
      <!--@The extension can help explain why it needs particular permissions by
      requesting them when the user enables the relevant feature.-->
      当用户启用相关功能时，通过请求权限有住于扩展程序解释为什么需要这些特定的权限。
    </li>
    <li>
      <!--@Chrome can avoid disabling extensions that upgrade if they add permissions
      as optional rather than required.-->
      如果更新后的扩展程序添加新的可选权限而不是必需的权限，Chrome
      浏览器就不会禁用它们。
    </li>
  </ul>
</p>

<p>
  <!--@Advantages of required permissions:-->
  必选权限的优势：
  <ul>
    <li>
      <!--@The extension can prompt the user once to accept all permissions.-->
      扩展程序可以一次提示用户接受所有权限。
    </li>
    <li>
      <!--@They simplify extension development by guaranteeing which permissions are
      present.-->
      确保有哪些权限存在，简化了扩展程序的开发。
    </li>
  </ul>
</p>


<h3 id="manifest"> <!--@Step 2: Declare optional permissions in the manifest-->第二步：在清单文件中声明可选权限 </h3>
<p>
  <!--@Declare optional permissions in your <a href="manifest.html">extension
  manifest</a> with the <code>optional_permissions</code> key, using the
  same format as the <a href="declare_permissions.html">permissions</a>
  field:-->
  和 <a href="declare_permissions.html">permissions</a> 字段使用相同的格式，使用
  <code>optional_permissions</code> 键，在您的<a href="manifest.html">扩展程序的清单文件</a>中声明可选权限：

<pre>{
  "name": "我的扩展程序",
  ...
  <b>"optional_permissions": [ "tabs", "http://www.google.com/" ],</b>
  ...
}</pre>
</p>

<p>
<!--@You can specify any of the following as optional permissions:-->
您可以将下列任意权限指定为可选权限：
<ul>
  <li><i><!--@host permissions-->主机权限</i></li>
  <li>appNotifications</li>
  <li>background</li>
  <li>bookmarks</li>
  <li>clipboardRead</li>
  <li>clipboardWrite</li>
  <li>contentSettings</li>
  <li>contextMenus</li>
  <li>cookies</li>
  <li>debugger</li>
  <li>history</li>
  <li>idle</li>
  <li>management</li>
  <li>notifications</li>
  <li>pageCapture</li>
  <li>tabs</li>
  <li>topSites</li>
  <li>webNavigation</li>
  <li>webRequest</li>
  <li>webRequestBlocking</li>
</ul>
</p>

<h3 id="request"> <!--@Step 3: Request optional permissions-->第三步：请求可选权限 </h3>
<p>
  <!--@Request the permissions from within a user gesture using-->
  使用
  <code>permissions.request()</code><!--@:-->
  在用户操作下请求权限：
<pre>
document.querySelector('#my-button').addEventListener('click', function(event) {
  // 权限必须在用户操作下请求，例如按钮单击的事件处理函数。
  chrome.permissions.request({
    permissions: ['tabs'],
    origins: ['http://www.google.com/']
  }, function(granted) {
    // 如果用户授予了这些权限，则回调函数的参数为 true。
    if (granted) {
      doSomething();
    } else {
      doSomethingElse();
    }
  });
});
</pre>
</p>

<p>
  <!--@Chrome prompts the user if adding the permissions results in different
  <a href="permission_warnings.html">warning messages</a> than the user has
  already seen and accepted. For example, the previous code might result in
  a prompt like this:-->
  如果加入这些权限会导致与用户已经看见并接受的所不同的<a href="permission_warnings.html">权限警告</a>，Chrome
  浏览器会提示用户。例如，上面的代码可能会导致如下提示：
</p>

<p style="text-align: center">
  <img src="/trunk/static/images/perms-optional.png"
       alt="example permission confirmation prompt"
       width="416" height="234">
</p>

<h3 id="contains"> <!--@Step 4: Check the extension's current permissions-->第四步：检查扩展程序的当前权限 </h3>
<p>
  <!--@To check whether your extension has a specific permission or set of
  permissions, use <code>permission.contains()</code>:-->
  要检查您的扩展程序是否拥有某个或某些权限，请使用
  <code>permission.contains()</code>：
</p>

<pre>
chrome.permissions.contains({
  permissions: ['tabs'],
  origins: ['http://www.google.com/']
}, function(result) {
  if (result) {
    // 扩展程序拥有这些权限。
  } else {
    // 扩展程序没有这些权限。
  }
});
</pre>

<h3 id="remove"> <!--@Step 5: Remove the permissions-->第五步：移除权限 </h3>
<p>
  <!--@You should remove permissions when you no longer need them.
  After a permission has been removed, calling
  <code>permissions.request()</code> usually adds the permission back without
  prompting the user.-->
  您应该及时移除您不再需要的权限。在权限移除后，调用
  <code>permissions.request()</code>
  通常会再次添加权限而不再提示用户。
</p>

<pre>
chrome.permissions.remove({
  permissions: ['tabs'],
  origins: ['http://www.google.com/']
}, function(removed) {
  if (removed) {
    // 权限已经移除。
  } else {
    // 权限没有移除（例如您试着移除必需的权限）
  }
});
</pre>
        <h2 id="apiReference"><!--@API Reference: chrome.permissions-->API 参考：chrome.permissions</h2>
        <div class="api_reference">
            <h3 id="types"><!--@Types-->类型</h3>
              <div>
                <h3 id="type-Permissions">Permissions</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
                  <h4 id="Permissions-properties">
                    <!--@Properties of --><a href="#type-Permissions">Permissions</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-Permissions-permissions"></a>
                      <dt>
                        <span class="variable">permissions</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of string
                          )
                        </span>
                      </dt>
                      <dd>
                        权限名称列表（不包括主机权限）。
                      </dd>
                    </div>
                    <div>
                      <a name="property-Permissions-origins"></a>
                      <dt>
                        <span class="variable">origins</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            array of string
                          )
                        </span>
                      </dt>
                      <dd>
                        主机权限列表。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
            <h3 id="methods"><!--@Methods-->方法</h3>
              <div>
                <h4 id="method-getAll">getAll</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.permissions.</span>getAll</span>(<span>function <span class="variable">callback</span></span>)
                </div>
                <div class="description">
                  <p>
                    获得扩展程序当前拥有的所有权限。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-getAll-callback"></a>
                        <dt>
                          <span class="variable">callback</span>
                          <span class="property">
                            (
                              
                              function
                            )
                          </span>
                        </dt>
                      </div>
                  </dl>
                    <h4><!--@Callback-->回调函数</h4>
                    <p>
                          <!--@The <em>callback</em> parameter should specify a function
                          that looks like this:-->
                          <em>callback</em> 参数应该指定一个如下形式的函数：
                    </p>
                    <pre>function(<a href="permissions.html#type-Permissions">Permissions</a> permissions) <span class="subdued">{...}</span>;</pre>
                    <dl>
                        <div>
                          <a name="property-callback-permissions"></a>
                          <dt>
                            <span class="variable">permissions</span>
                            <span class="property">
                              (
                                
                                <a href="permissions.html#type-Permissions">Permissions</a>
                              )
                            </span>
                          </dt>
                          <dd>
                            扩展程序的当前权限。
                          </dd>
                        </div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="method-contains">contains</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.permissions.</span>contains</span>(<span><a href="permissions.html#type-Permissions">Permissions</a> <span class="variable">permissions</span></span>, <span>function <span class="variable">callback</span></span>)
                </div>
                <div class="description">
                  <p>
                    检查扩展程序是否拥有指定权限。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-contains-permissions"></a>
                        <dt>
                          <span class="variable">permissions</span>
                          <span class="property">
                            (
                              
                              <a href="permissions.html#type-Permissions">Permissions</a>
                            )
                          </span>
                        </dt>
                      </div>
                      <div>
                        <a name="property-contains-callback"></a>
                        <dt>
                          <span class="variable">callback</span>
                          <span class="property">
                            (
                              
                              function
                            )
                          </span>
                        </dt>
                      </div>
                  </dl>
                    <h4><!--@Callback-->回调函数</h4>
                    <p>
                          <!--@The <em>callback</em> parameter should specify a function
                          that looks like this:-->
                          <em>callback</em> 参数应该指定一个如下形式的函数：
                    </p>
                    <pre>function(boolean result) <span class="subdued">{...}</span>;</pre>
                    <dl>
                        <div>
                          <a name="property-callback-result"></a>
                          <dt>
                            <span class="variable">result</span>
                            <span class="property">
                              (
                                
                                boolean
                              )
                            </span>
                          </dt>
                          <dd>
                            如果扩展程序拥有指定权限则为 true。
                          </dd>
                        </div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="method-request">request</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.permissions.</span>request</span>(<span><a href="permissions.html#type-Permissions">Permissions</a> <span class="variable">permissions</span></span>, <span class="optional">function <span class="variable">callback</span></span>)
                </div>
                <div class="description">
                  <p>
                    请求访问指定的权限，这些权限必须已在清单文件中的 optional_permissions 字段中定义。如果请求权限过程中发生任何问题，将会设置 <a href="runtime.html#property-lastError">runtime.lastError</a>。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-request-permissions"></a>
                        <dt>
                          <span class="variable">permissions</span>
                          <span class="property">
                            (
                              
                              <a href="permissions.html#type-Permissions">Permissions</a>
                            )
                          </span>
                        </dt>
                      </div>
                      <div>
                        <a name="property-request-callback"></a>
                        <dt>
                          <span class="variable">callback</span>
                          <span class="property">
                            (
                              <span class="optional">optional</span>
                              function
                            )
                          </span>
                        </dt>
                      </div>
                  </dl>
                    <h4><!--@Callback-->回调函数</h4>
                    <p>
                          <!--@If you specify the <em>callback</em> parameter, it should
                          specify a function that looks like this:-->
                          如果您指定了 <em>callback</em> 参数，它应该指定一个如下形式的函数：
                    </p>
                    <pre>function(boolean granted) <span class="subdued">{...}</span>;</pre>
                    <dl>
                        <div>
                          <a name="property-callback-granted"></a>
                          <dt>
                            <span class="variable">granted</span>
                            <span class="property">
                              (
                                
                                boolean
                              )
                            </span>
                          </dt>
                          <dd>
                            如果用户授予了指定权限则为 true。
                          </dd>
                        </div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="method-remove">remove</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.permissions.</span>remove</span>(<span><a href="permissions.html#type-Permissions">Permissions</a> <span class="variable">permissions</span></span>, <span class="optional">function <span class="variable">callback</span></span>)
                </div>
                <div class="description">
                  <p>
                    移除指定权限的访问。如果移除权限过程中发生任何问题，将会设置 <a href="runtime.html#property-lastError">runtime.lastError</a>。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-remove-permissions"></a>
                        <dt>
                          <span class="variable">permissions</span>
                          <span class="property">
                            (
                              
                              <a href="permissions.html#type-Permissions">Permissions</a>
                            )
                          </span>
                        </dt>
                      </div>
                      <div>
                        <a name="property-remove-callback"></a>
                        <dt>
                          <span class="variable">callback</span>
                          <span class="property">
                            (
                              <span class="optional">optional</span>
                              function
                            )
                          </span>
                        </dt>
                      </div>
                  </dl>
                    <h4><!--@Callback-->回调函数</h4>
                    <p>
                          <!--@If you specify the <em>callback</em> parameter, it should
                          specify a function that looks like this:-->
                          如果您指定了 <em>callback</em> 参数，它应该指定一个如下形式的函数：
                    </p>
                    <pre>function(boolean removed) <span class="subdued">{...}</span>;</pre>
                    <dl>
                        <div>
                          <a name="property-callback-removed"></a>
                          <dt>
                            <span class="variable">removed</span>
                            <span class="property">
                              (
                                
                                boolean
                              )
                            </span>
                          </dt>
                          <dd>
                            如果权限已移除则为 true。
                          </dd>
                        </div>
                    </dl>
                </div>
              </div>
            <h3 id="events"><!--@Events-->事件</h3>
              <div>
                <h4 id="event-onAdded">onAdded</h4>
                <div class="summary">
                  <span class="subdued">chrome.permissions.</span>onAdded<span class="subdued">.addListener</span>(function(<span><a href="permissions.html#type-Permissions">Permissions</a> <span class="variable">permissions</span></span>)<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    扩展程序获得新权限时产生。
                  </p>      <h4><!--@Listener Parameters-->监听器参数</h4>
                    <dl>
                      <div>  <a name="property-onAdded-permissions"></a>  <dt>    <span class="variable">permissions</span>    <span class="property">      (                <a href="permissions.html#type-Permissions">Permissions</a>      )    </span>  </dt>  <dd>    新获得的权限。  </dd></div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="event-onRemoved">onRemoved</h4>
                <div class="summary">
                  <span class="subdued">chrome.permissions.</span>onRemoved<span class="subdued">.addListener</span>(function(<span><a href="permissions.html#type-Permissions">Permissions</a> <span class="variable">permissions</span></span>)<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    对权限的访问从扩展程序移除时产生。
                  </p>      <h4><!--@Listener Parameters-->监听器参数</h4>
                    <dl>
                      <div>  <a name="property-onRemoved-permissions"></a>  <dt>    <span class="variable">permissions</span>    <span class="property">      (                <a href="permissions.html#type-Permissions">Permissions</a>      )    </span>  </dt>  <dd>    已移除的权限。  </dd></div>
                    </dl>
                </div>
              </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    window.bootstrap = {
      api_names: [{"name":"alarms"},{"name":"bookmarks"},{"name":"browserAction"},{"name":"browsingData"},{"name":"commands"},{"name":"contentSettings"},{"name":"contextMenus"},{"name":"cookies"},{"name":"debugger"},{"name":"declarativeContent"},{"name":"declarativeWebRequest"},{"name":"devtools.inspectedWindow"},{"name":"devtools.network"},{"name":"devtools.panels"},{"name":"downloads"},{"name":"events"},{"name":"extension"},{"name":"fileBrowserHandler"},{"name":"fontSettings"},{"name":"history"},{"name":"i18n"},{"name":"idle"},{"name":"input.ime"},{"name":"management"},{"name":"omnibox"},{"name":"pageAction"},{"name":"pageCapture"},{"name":"permissions"},{"name":"privacy"},{"name":"proxy"},{"name":"pushMessaging"},{"name":"runtime"},{"name":"scriptBadge"},{"name":"sessionRestore"},{"name":"storage"},{"name":"tabCapture"},{"name":"tabs"},{"name":"topSites"},{"name":"tts"},{"name":"ttsEngine"},{"name":"types"},{"name":"webNavigation"},{"name":"webRequest"},{"name":"webstore"},{"last":true,"name":"windows"}].concat(
          [{"name":"experimental.devtools.audits"},{"name":"experimental.devtools.console"},{"name":"experimental.discovery"},{"name":"experimental.history"},{"name":"experimental.identity"},{"name":"experimental.infobars"},{"name":"experimental.processes"},{"name":"experimental.record"},{"name":"experimental.speechInput"},{"name":"experimental.systemInfo.cpu"},{"last":true,"name":"experimental.systemInfo.storage"}]),
      branchInfo: {"channels":[{"path":"stable","name":"Stable"},{"path":"dev","name":"Dev"},{"path":"beta","name":"Beta"},{"path":"trunk","name":"Trunk"}],"current":"trunk","showWarning":true}
    };
  </script>
  <div id="gc-footer">
    <div class="text">
      <p>
        <!--@Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>,
        the content of this page is licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
        Attribution 3.0 License</a>, and code samples are licensed under the
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>.-->
        该页面翻译自
        <a href="https://developer.chrome.com/extensions/">Google Chrome Extensions</a>
        与
        <a href="https://developer.chrome.com/apps/">Google Chrome Apps</a>。除非特别<a href="https://code.google.com/policies.html#restrictions">说明</a>，该页面的内容遵循
        <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0
        License</a>，代码示例遵循
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>。
      </p>
      <p>
        <!--@©2012 Google-->
      </p>
      <script src="/trunk/static/js/branch.js" type="text/javascript"></script>
      <script src="/trunk/static/js/sidebar.js" type="text/javascript"></script>
      <script src="/trunk/static/js/prettify.js" type="text/javascript"></script>
      <script>
        (function() {
          // Auto syntax highlight all pre tags.
          var preElements = document.getElementsByTagName('pre');
          for (var i = 0; i < preElements.length; i++)
            preElements[i].classList.add('prettyprint');
          prettyPrint();
        })();
      </script>
      <script src="https://www.google-analytics.com/urchin.js" type="text/javascript"></script>
      <script src="https://www.google-analytics.com/ga.js" type="text/javascript"></script>
      <script type="text/javascript">
        // chrome doc tracking
        try {
          var engdocs = _gat._getTracker("YT-10763712-2");
          engdocs._trackPageview();
        } catch(err) {}
        // code.google.com site-wide tracking
        try {
          _uacct="UA-18071-1";
          _uanchor=1;
          _uff=0;
          urchinTracker();
        }
        catch(e) {/* urchinTracker not available. */}
      </script>
      <script>
        (function() {
          var cx = '002967670403910741006:61_cvzfqtno';
          var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
          gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
        })();
      </script>
  
    </div>
  </div>
</html>

