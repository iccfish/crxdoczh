<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="/trunk/static/css/site.css" rel="stylesheet" type="text/css">
    <link href="/trunk/static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="/trunk/static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href="//www.google.com/images/icons/product/chrome-16.png" rel="icon" type="image/ico">
    <link href="/trunk/static/css/api.css" rel="stylesheet" type="text/css">
    <title>chrome.runtime - Google Chrome 扩展程序/应用开发者文档（非官方中文版）</title>
  </head>
  <body>
    <div id="branchWarning" class="displayModeWarning">
      <span><!--@WARNING: this is the trunk documentation. It may not work with the stable release of Chrome.-->警告：这是 trunk 分支的文档，不一定能在稳定版本的 Chrome 浏览器中正常工作。</span>
      <select id="branchChooser">
        <option value=""><!--@Choose a different version...-->选择另一个版本...</option>
        <option value="stable">Stable</option>
        <option value="dev">Dev</option>
        <option value="beta">Beta</option>
        <option value="trunk">Trunk</option>
      </select>
    </div>
    <a id="top"></a>
    <div id="header">
      <span id="logo">
        <a href="http://code.google.com/" id="view-original"><img src="/trunk/static/images/chrome_logo.gif" alt="单击此处查看英文原文"></a>
        <script type="text/javascript">
          document.getElementById('view-original').href = "https://developer.chrome.com" + location.pathname;
        </script>
      </span>
      <span id="cse">
        <gcse:searchbox-only enableAutoComplete="true" autoCompleteMatchTyple="prefix"></gcse:searchbox-only>
      </span>
    </div>
    <a id="gc-topnav-anchor"></a>
    <div id="gc-topnav">
      <h1>Google Chrome 扩展程序（非官方中文版）</h1>
      <ul id="home" class="gc-topnav-tabs">
        <li id="home_link">
          <!--@<a href="index.html" title="Google Chrome 扩展程序 home page"><div>Home</div></a>-->
          <a href="index.html" title="Google Chrome 扩展程序主页"><div>主页</div></a>
        </li>
        <li id="docs_link">
          <!--@<a href="docs.html" title="Official Google Chrome 扩展程序 documentation"><div>Docs</div></a>-->
          <a href="docs.html" title="Google Chrome 扩展程序文档"><div>文档</div></a>
        </li>
        <li id="faq_link">
          <!--@<a href="faq.html" title="Answers to frequently asked questions about Google Chrome 扩展程序"><div>FAQ</div></a>-->
          <a href="faq.html" title="关于 Google Chrome 扩展程序常见问题的答案"><div>常见问题</div></a>
        </li>
        <li id="samples_link">
          <!--@<a href="samples.html" title="Sample 扩展程序 (with source code)"><div>Samples</div></a>-->
          <a href="samples.html" title="示例扩展程序（包含源代码）"><div>示例</div></a>
        </li>
        <li id="group_link">
          <!--<a href="http://groups.google.com/a/chromium.org/group/chromium-extensions" title="Google Chrome 扩展程序 developer forum"><div>Group</div></a>-->
          <a href="http://groups.google.com/a/chromium.org/group/chromium-extensions" title="Google Chrome 扩展程序开发人员论坛"><div>论坛（英文）</div></a>
        </li>
        <li id="so_link">
          <!--<a href="http://stackoverflow.com/questions/tagged/google-chrome-extension" title="[google-chrome-extension] tag on Stack Overflow"><div>Questions?</div></a>-->
          <a href="http://stackoverflow.com/questions/tagged/google-chrome-extension" title="Stack Overflow 上的 [google-chrome-extension] 标签"><div>问题？（英文）</div></a>
        </li>
      </ul>
    </div>
    <div id="gc-container">
      <div id="gc-sidebar">
        <ul 
            class="level1 ">
          <li class="level2">
                <a href="getstarted.html" class="level2 ">入门</a>
          </li>
          <li class="level2">
                <a href="overview.html" class="level2 ">概述</a>
          </li>
          <li class="level2">
                <a href="whats_new.html" class="level2 ">新增功能</a>
          </li>
          <li class="level2">
                <a href="devguide.html" class="level2 ">开发者指南</a>
              <ul 
                  class="level2 ">
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">浏览器用户界面</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="browserAction.html" class="level4 ">浏览器按钮</a>
                      </li>
                      <li class="level4">
                            <a href="contextMenus.html" class="level4 ">右键菜单</a>
                      </li>
                      <li class="level4">
                            <a href="notifications.html" class="level4 ">桌面通知</a>
                      </li>
                      <li class="level4">
                            <a href="omnibox.html" class="level4 ">多功能框</a>
                      </li>
                      <li class="level4">
                            <a href="options.html" class="level4 ">选项页面</a>
                      </li>
                      <li class="level4">
                            <a href="override.html" class="level4 ">替代页面</a>
                      </li>
                      <li class="level4">
                            <a href="pageAction.html" class="level4 ">页面按钮</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">浏览器交互</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="bookmarks.html" class="level4 ">书签</a>
                      </li>
                      <li class="level4">
                            <a href="cookies.html" class="level4 ">Cookie</a>
                      </li>
                      <li class="level4">
                            <a href="devtools.html" class="level4 ">开发者工具</a>
                      </li>
                      <li class="level4">
                            <a href="events.html" class="level4 ">事件</a>
                      </li>
                      <li class="level4">
                            <a href="history.html" class="level4 ">历史记录</a>
                      </li>
                      <li class="level4">
                            <a href="management.html" class="level4 ">管理</a>
                      </li>
                      <li class="level4">
                            <a href="tabs.html" class="level4 ">标签页</a>
                      </li>
                      <li class="level4">
                            <a href="windows.html" class="level4 ">窗口</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">实现</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="a11y.html" class="level4 ">辅助功能</a>
                      </li>
                      <li class="level4">
                            <a href="event_pages.html" class="level4 ">事件页面</a>
                      </li>
                      <li class="level4">
                            <a href="contentSecurityPolicy.html" class="level4 ">内容安全策略</a>
                      </li>
                      <li class="level4">
                            <a href="content_scripts.html" class="level4 ">内容脚本</a>
                      </li>
                      <li class="level4">
                            <a href="xhr.html" class="level4 ">跨站 XHR</a>
                      </li>
                      <li class="level4">
                            <a href="i18n.html" class="level4 ">国际化支持</a>
                      </li>
                      <li class="level4">
                            <a href="messaging.html" class="level4 ">消息传递</a>
                      </li>
                      <li class="level4">
                            <a href="permissions.html" class="level4 ">可选权限</a>
                      </li>
                      <li class="level4">
                            <a href="npapi.html" class="level4 ">NPAPI 插件</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">完成</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="hosting.html" class="level4 ">托管</a>
                      </li>
                      <li class="level4">
                            <a href="external_extensions.html" class="level4 ">其他发布选项</a>
                      </li>
                    </ul>
                </li>
              </ul>
          </li>
          <li class="level2">
                <a href="tutorials.html" class="level2 ">教程</a>
              <ul 
                  class="level2 ">
                <li class="level3">
                      <a href="tut_migration_to_manifest_v2.html" class="level3 ">清单文件版本2</a>
                </li>
                <li class="level3">
                      <a href="tut_debugging.html" class="level3 ">调试</a>
                </li>
                <li class="level3">
                      <a href="tut_analytics.html" class="level3 ">Google Analytics（分析）</a>
                </li>
                <li class="level3">
                      <a href="tut_oauth.html" class="level3 ">OAuth</a>
                </li>
              </ul>
          </li>
          <li class="level2">
                <span class="level2">参考</span>
              <ul 
                  class="level2 ">
                <li class="level3">
                    <a class="button level3">
                      <span class="level3">格式</span>
                      <div class="toggleIndicator level3"></div>
                    </a>
                    <ul toggleable
                        class="level3 hidden">
                      <li class="level4">
                            <a href="manifest.html" class="level4 ">清单文件</a>
                      </li>
                      <li class="level4">
                            <a href="match_patterns.html" class="level4 ">匹配表达式</a>
                      </li>
                    </ul>
                </li>
                <li class="level3">
                      <a href="permission_warnings.html" class="level3 ">权限警告</a>
                </li>
                <li class="level3">
                      <a href="api_index.html" class="level3 ">chrome.* API</a>
                </li>
                <li class="level3">
                      <a href="api_other.html" class="level3 ">其他 API</a>
                </li>
              </ul>
          </li>
          <li class="level2">
                <span class="level2">更多</span>
              <ul 
                  class="level2 ">
                <li class="level3">
                      <a href="https://code.google.com/chrome/webstore/docs/index.html" class="level3 ">Chrome 网上应用店</a>
                </li>
                <li class="level3">
                      <a href="https://code.google.com/chrome/apps/docs/developers_guide.html" class="level3 ">托管应用</a>
                </li>
                <li class="level3">
                      <a href="themes.html" class="level3 ">主题背景</a>
                </li>
              </ul>
          </li>
        </ul>
      </div>
      <div id="gc-pagecontent">
        <h1 class="page_title">chrome.runtime</h1>
        
        
        
        <div id="toc">
          <h2><!--@Contents-->目录</h2>
          <ol>
            <li>
              <a href="#apiReference"><!--@API reference: -->API 参考：chrome.runtime</a>
              <ol>
                  <li><a href="#types"><!--@Types-->类型</a><ol>  <li>    <a href="#type-Port">Port</a>  </li>  <li>    <a href="#type-MessageSender">MessageSender</a>  </li></ol></li>
                  <li><a href="#properties"><!--@Properties-->属性</a><ol>  <li>    <a href="#property-lastError">lastError</a><ol><li>      <a href="#lastError-properties"><!--@Properties-->属性</a>      <ol>        <li>          <a href="#property-lastError-message">message</a>        </li>      </ol>    </li></ol>  </li>  <li>    <a href="#property-id">id</a>  </li></ol></li>
                  <li><a href="#methods"><!--@Methods-->方法</a><ol>  <li><a href="#method-getBackgroundPage">getBackgroundPage</a></li>  <li><a href="#method-getManifest">getManifest</a></li>  <li><a href="#method-getURL">getURL</a></li>  <li><a href="#method-reload">reload</a></li>  <li><a href="#method-requestUpdateCheck">requestUpdateCheck</a></li>  <li><a href="#method-connect">connect</a></li>  <li><a href="#method-sendMessage">sendMessage</a></li></ol></li>
                  <li><a href="#events"><!--@Events-->事件</a><ol>  <li><a href="#event-onStartup">onStartup</a></li>  <li><a href="#event-onInstalled">onInstalled</a></li>  <li><a href="#event-onSuspend">onSuspend</a></li>  <li><a href="#event-onSuspendCanceled">onSuspendCanceled</a></li>  <li><a href="#event-onUpdateAvailable">onUpdateAvailable</a></li>  <li><a href="#event-onConnect">onConnect</a></li>  <li><a href="#event-onConnectExternal">onConnectExternal</a></li>  <li><a href="#event-onMessage">onMessage</a></li>  <li><a href="#event-onMessageExternal">onMessageExternal</a></li></ol></li>
                  
              </ol>
            </li>
          </ol>
        </div>

<table class="intro">
  <tr>
    <th scope="col"></th>
    <th scope="col"></th>
  </tr>
  <tr>
    <td><strong><!--@Description:-->描述：</strong></td>
    <td><!--@Use the-->使用 <code>chrome.runtime</code> <!--@module
    to retrieve the background page, return details about the manifest,
    and listen for and respond to events in the app or extension lifecycle.
    You can also use this API to convert the relative path
    of URLs to fully-qualified URLs.-->
    模块获取后台页面、返回清单文件的详情、监听并响应应用或扩展程序生命周期内的事件，您还可以使用该 API 将相对路径的 URL 转换为完全限定的 URL。
    </td>
  </tr>
  <tr>
    <td><strong><!--@Availability:-->可用版本：</strong></td>
    <td>Google Chrome 22</td>
  </tr>
  <tr>
    <td><strong><!--@Permissions:-->权限：</strong></td>
    <td><!--@None-->无</td>
  </tr>
  <tr>
    <td><strong><!--@Learn more:-->了解更多：</strong></td>
    <td><a href="app_lifecycle.html"><!--@Manage App Lifecycle-->管理应用生命周期</a><br>
    <a href="event_pages.html"><!--@Event Pages-->事件页面</a></td>
  </tr>
</table>
        <h2 id="apiReference"><!--@API Reference: chrome.runtime-->API 参考：chrome.runtime</h2>
        <div class="api_reference">
            <h3 id="types"><!--@Types-->类型</h3>
              <div>
                <h3 id="type-Port">Port</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    允许与其他页面双向通信的对象。
                  </dd>    <h4 id="Port-properties">
                    <!--@Properties of --><a href="#type-Port">Port</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-Port-name"></a>
                      <dt>
                        <span class="variable">name</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                    </div>
                    <div>
                      <a name="property-Port-disconnect"></a>
                      <dt>
                        <span class="variable">disconnect</span>
                        <span class="property">
                          (
                            
                            function
                          )
                        </span>
                      </dt>
                    </div>
                    <div>
                      <a name="property-Port-onDisconnect"></a>
                      <dt>
                        <span class="variable">onDisconnect</span>
                        <span class="property">
                          (
                            
                            <a href="events.html#type-Event">events.Event</a>
                          )
                        </span>
                      </dt>
                    </div>
                    <div>
                      <a name="property-Port-onMessage"></a>
                      <dt>
                        <span class="variable">onMessage</span>
                        <span class="property">
                          (
                            
                            <a href="events.html#type-Event">events.Event</a>
                          )
                        </span>
                      </dt>
                    </div>
                    <div>
                      <a name="property-Port-postMessage"></a>
                      <dt>
                        <span class="variable">postMessage</span>
                        <span class="property">
                          (
                            
                            function
                          )
                        </span>
                      </dt>
                    </div>
                    <div>
                      <a name="property-Port-sender"></a>
                      <dt>
                        <span class="variable">sender</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            <a href="runtime.html#type-MessageSender">MessageSender</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        <b>只有</b>当端口传递给 onConnect/onConnectExternal 监听器时才会存在该属性。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="type-MessageSender">MessageSender</h3>
                <div>
                  <dt><span class="type_name">  (    object  )</span></dt>
              <dd>
                    包含有关发送消息或请求的脚本上下文信息的对象。
                  </dd>    <h4 id="MessageSender-properties">
                    <!--@Properties of --><a href="#type-MessageSender">MessageSender</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-MessageSender-tab"></a>
                      <dt>
                        <span class="variable">tab</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            <a href="tabs.html#type-Tab">tabs.Tab</a>
                          )
                        </span>
                      </dt>
                      <dd>
                        <b>只有</b>当连接从标签页或内容脚本中打开时才会存在这一属性。
                      </dd>
                    </div>
                    <div>
                      <a name="property-MessageSender-id"></a>
                      <dt>
                        <span class="variable">id</span>
                        <span class="property">
                          (
                            
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        打开连接的扩展程序/应用的标识符。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
            <h3 id="properties"><!--@Properties-->属性</h3>
              <div>
                <h3 id="property-lastError">lastError</h3>
                <div class="summary">
                  <span><span class="subdued">chrome.runtime.</span>lastError</span>
                </div>
                <div>
                  <dt><span class="property">lastError</span> <span class="type_name">  (  <span class="optional">optional</span>  object  )</span></dt>
              <dd>
                    如果发生错误，在 API 方法的回调函数执行的过程中将会定义该属性。
                  </dd>    <h4 id="lastError-properties">
                    <!--@Properties of --><a href="#property-lastError">lastError</a>
                    的属性
                  </h4>
                  <dd><dl>      <div>
                      <a name="property-lastError-message"></a>
                      <dt>
                        <span class="variable">message</span>
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </dt>
                      <dd>
                        有关发生错误的详情。
                      </dd>
                    </div>
              </dl></dd>
                </div>
              </div>
              <div>
                <h3 id="property-id">id</h3>
                <div class="summary">
                  <span><span class="subdued">chrome.runtime.</span>id</span>
                </div>
                <div>
                  <dt><span class="property">id</span> <span class="type_name">  (    string  )</span></dt>
              <dd>
                    扩展程序/应用的标识符。
                  </dd>  </div>
              </div>
            <h3 id="methods"><!--@Methods-->方法</h3>
              <div>
                <h4 id="method-getBackgroundPage">getBackgroundPage</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.runtime.</span>getBackgroundPage</span>(<span>function <span class="variable">callback</span></span>)
                </div>
                <div class="description">
                  <p>
                    获取当前扩展程序/应用中正在运行的后台网页的 JavaScript window 对象。如果后台网页是事件页面，系统会确保在调用回调函数前它已经载入。如果没有后台网页，将会设置错误信息。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-getBackgroundPage-callback"></a>
                        <dt>
                          <span class="variable">callback</span>
                          <span class="property">
                            (
                              
                              function
                            )
                          </span>
                        </dt>
                      </div>
                  </dl>
                    <h4><!--@Callback-->回调函数</h4>
                    <p>
                          <!--@The <em>callback</em> parameter should specify a function
                          that looks like this:-->
                          <em>callback</em> 参数应该指定一个如下形式的函数：
                    </p>
                    <pre>function(global backgroundPage) <span class="subdued">{...}</span>;</pre>
                    <dl>
                        <div>
                          <a name="property-callback-backgroundPage"></a>
                          <dt>
                            <span class="variable">backgroundPage</span>
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                global
                              )
                            </span>
                          </dt>
                          <dd>
                            后台页面的 JavaScript window 对象。
                          </dd>
                        </div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="method-getManifest">getManifest</h4>
                <div class="summary">
                  <span>object <span class="subdued">chrome.runtime.</span>getManifest</span>()
                </div>
                <div class="description">
                  <p>
                    从清单文件中返回有关应用或扩展程序的详情，返回的对象是完整<a href="manifest.html">清单文件</a>序列化的结果。
                  </p>
                    <h4><!--@Returns-->返回值</h4>
                    <dl>
                      <dt><span class="property">
                        ( object )
                      </span></dt>
                      <dd>
                      清单文件详情。
                      </dd>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="method-getURL">getURL</h4>
                <div class="summary">
                  <span>string <span class="subdued">chrome.runtime.</span>getURL</span>(<span>string <span class="variable">path</span></span>)
                </div>
                <div class="description">
                  <p>
                    将应用或扩展程序安装目录内的相对路径转换为完全限定的 URL。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-getURL-path"></a>
                        <dt>
                          <span class="variable">path</span>
                          <span class="property">
                            (
                              
                              string
                            )
                          </span>
                        </dt>
                        <dd>
                          指向应用或扩展程序内资源的路径，相对于它的安装目录。
                        </dd>
                      </div>
                  </dl>
                    <h4><!--@Returns-->返回值</h4>
                    <dl>
                      <dt><span class="property">
                        ( string )
                      </span></dt>
                      <dd>
                      指向资源的完全限定 URL。
                      </dd>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="method-reload">reload</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.runtime.</span>reload</span>()
                </div>
                <div class="description">
                  <p>
                    重新载入应用或扩展程序。
                  </p>
                </div>
              </div>
              <div>
                <h4 id="method-requestUpdateCheck">requestUpdateCheck</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.runtime.</span>requestUpdateCheck</span>(<span>function <span class="variable">callback</span></span>)
                </div>
                <div class="description">
                  <p>
                    为当前应用/扩展程序请求检查更新。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-requestUpdateCheck-callback"></a>
                        <dt>
                          <span class="variable">callback</span>
                          <span class="property">
                            (
                              
                              function
                            )
                          </span>
                        </dt>
                      </div>
                  </dl>
                    <h4><!--@Callback-->回调函数</h4>
                    <p>
                          <!--@The <em>callback</em> parameter should specify a function
                          that looks like this:-->
                          <em>callback</em> 参数应该指定一个如下形式的函数：
                    </p>
                    <pre>function(enumerated string ["throttled", "no_update", "update_available"] status, object details) <span class="subdued">{...}</span>;</pre>
                    <dl>
                        <div>
                          <a name="property-callback-status"></a>
                          <dt>
                            <span class="variable">status</span>
                            <span class="property">
                              (
                                
                                enumerated string ["throttled", "no_update", "update_available"]
                              )
                            </span>
                          </dt>
                          <dd>
                            检查更新的结果。
                          </dd>
                        </div>
                        <div>
                          <a name="property-callback-details"></a>
                          <dt>
                            <span class="variable">details</span>
                            <span class="property">
                              (
                                <span class="optional">optional</span>
                                object
                              )
                            </span>
                          </dt>
                          <dd>
                            如果更新可用的话，包含有关可用更新的更多信息。
                          </dd>
                          <dd>
                            <dl>
                              <div>
                                <a name="property-details-version"></a>
                                <dt>
                                  <span class="variable">version</span>
                                  <span class="property">
                                    (
                                      
                                      string
                                    )
                                  </span>
                                </dt>
                                <dd>
                                  可用更新的版本。
                                </dd>
                              </div>
                            </dl>
                          </dd>
                        </div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="method-connect">connect</h4>
                <div class="summary">
                  <span><a href="runtime.html#type-Port">Port</a> <span class="subdued">chrome.runtime.</span>connect</span>(<span class="optional">string <span class="variable">extensionId</span></span>, <span class="optional">object <span class="variable">connectInfo</span></span>)
                </div>
                <div class="description">
                  <p>
                    尝试连接到扩展程序/应用中其它的监听者（例如后台网页）或其他扩展程序/应用，该方法对于需要连接到它们的扩展程序进程的内容脚本非常有用。注意，该方法不能连接到内容脚本中的监听者，扩展程序可以通过 <a href="tabs.html#method-connect">tabs.connect</a> 连接到嵌入至标签页中的内容脚本。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-connect-extensionId"></a>
                        <dt>
                          <span class="variable">extensionId</span>
                          <span class="property">
                            (
                              <span class="optional">optional</span>
                              string
                            )
                          </span>
                        </dt>
                        <dd>
                          您需要连接到的扩展程序/应用的标识符，如果省略，默认为您自己的扩展程序。
                        </dd>
                      </div>
                      <div>
                        <a name="property-connect-connectInfo"></a>
                        <dt>
                          <span class="variable">connectInfo</span>
                          <span class="property">
                            (
                              <span class="optional">optional</span>
                              object
                            )
                          </span>
                        </dt>
                        <dd>
                          <dl>
                            <div>
                              <a name="property-connectInfo-name"></a>
                              <dt>
                                <span class="variable">name</span>
                                <span class="property">
                                  (
                                    <span class="optional">optional</span>
                                    string
                                  )
                                </span>
                              </dt>
                              <dd>
                                将传递给监听连接事件的扩展程序进程的 onConnect 事件。
                              </dd>
                            </div>
                          </dl>
                        </dd>
                      </div>
                  </dl>
                    <h4><!--@Returns-->返回值</h4>
                    <dl>
                      <dt><span class="property">
                        ( <a href="runtime.html#type-Port">Port</a> )
                      </span></dt>
                      <dd>
                      用来与扩展程序发送和接受消息的端口。如果扩展程序不存在则引发该端口的 <a href="runtime.html#property-Port-onDisconnect">Port.onDisconnect</a> 事件。
                      </dd>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="method-sendMessage">sendMessage</h4>
                <div class="summary lower">
                  <span><span class="subdued">chrome.runtime.</span>sendMessage</span>(<span class="optional">string <span class="variable">extensionId</span></span>, <span>any <span class="variable">message</span></span>, <span class="optional">function <span class="variable">responseCallback</span></span>)
                </div>
                <div class="description">
                  <p>
                    向扩展程序中的其它监听者（或另一个扩展程序/应用）发送单个请求。与 chrome.runtime.connect 类似，但是只发送具有可选回应的单个请求。<a href="runtime.html#event-onMessage">onMessage</a> 事件将在扩展程序的每一个页面中产生。注意，扩展程序不能使用该方法向内容脚本发送消息。要向内容脚本发送消息，请使用 <a href="tabs.html#method-sendMessage">tabs.sendMessage</a>。
                  </p>
                  <h4><!--@Parameters-->参数</h4>
                  <dl>
                      <div>
                        <a name="property-sendMessage-extensionId"></a>
                        <dt>
                          <span class="variable">extensionId</span>
                          <span class="property">
                            (
                              <span class="optional">optional</span>
                              string
                            )
                          </span>
                        </dt>
                        <dd>
                          您要连接的扩展程序标识符。如果省略，默认为您自己的扩展程序。
                        </dd>
                      </div>
                      <div>
                        <a name="property-sendMessage-message"></a>
                        <dt>
                          <span class="variable">message</span>
                          <span class="property">
                            (
                              
                              any
                            )
                          </span>
                        </dt>
                      </div>
                      <div>
                        <a name="property-sendMessage-responseCallback"></a>
                        <dt>
                          <span class="variable">responseCallback</span>
                          <span class="property">
                            (
                              <span class="optional">optional</span>
                              function
                            )
                          </span>
                        </dt>
                      </div>
                  </dl>
                    <h4><!--@Callback-->回调函数</h4>
                    <p>
                          <!--@If you specify the <em>responseCallback</em> parameter, it should
                          specify a function that looks like this:-->
                          如果您指定了 <em>responseCallback</em> 参数，它应该指定一个如下形式的函数：
                    </p>
                    <pre>function(any response) <span class="subdued">{...}</span>;</pre>
                    <dl>
                        <div>
                          <a name="property-responseCallback-response"></a>
                          <dt>
                            <span class="variable">response</span>
                            <span class="property">
                              (
                                
                                any
                              )
                            </span>
                          </dt>
                          <dd>
                            消息处理程序发送的 JSON 响应对象。如果连接到扩展程序的过程中发生错误，调用这一回调函数时将不传递参数，并将 <a href="runtime.html#property-lastError">lastError</a> 设为错误消息。
                          </dd>
                        </div>
                    </dl>
                </div>
              </div>
            <h3 id="events"><!--@Events-->事件</h3>
              <div>
                <h4 id="event-onStartup">onStartup</h4>
                <div class="summary">
                  <span class="subdued">chrome.runtime.</span>onStartup<span class="subdued">.addListener</span>(function()<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    当浏览器刚启动时产生。
                  </p>  </div>
              </div>
              <div>
                <h4 id="event-onInstalled">onInstalled</h4>
                <div class="summary">
                  <span class="subdued">chrome.runtime.</span>onInstalled<span class="subdued">.addListener</span>(function(<span>object <span class="variable">details</span></span>)<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    当扩展程序第一次安装、更新至新版本或 Chrome 浏览器更新至新版本时产生。
                  </p>      <h4><!--@Listener Parameters-->监听器参数</h4>
                    <dl>
                      <div>  <a name="property-onInstalled-details"></a>  <dt>    <span class="variable">details</span>    <span class="property">      (                object      )    </span>  </dt>  <dd>    <dl>      <div>        <a name="property-details-reason"></a>        <dt>          <span class="variable">reason</span>          <span class="property">            (                            enumerated string ["install", "update", "chrome_update"]            )          </span>        </dt>        <dd>          分发这一事件的原因。        </dd>      </div>      <div>        <a name="property-details-previousVersion"></a>        <dt>          <span class="variable">previousVersion</span>          <span class="property">            (              <span class="optional">optional</span>              string            )          </span>        </dt>        <dd>          表示已更新扩展程序的前一个版本，只有当 reason 为 'update' 时才存在。        </dd>      </div>    </dl>  </dd></div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="event-onSuspend">onSuspend</h4>
                <div class="summary">
                  <span class="subdued">chrome.runtime.</span>onSuspend<span class="subdued">.addListener</span>(function()<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    在事件页面即将卸载前发送，这样扩展程序就有机会进行清理。注意，由于页面即将卸载，处理该事件时开始的任何异步操作都不能保证完成。如果卸载前事件页面产生了更多活动，将产生 onSuspendCanceled 事件，并且事件页面不会卸载。
                  </p>  </div>
              </div>
              <div>
                <h4 id="event-onSuspendCanceled">onSuspendCanceled</h4>
                <div class="summary">
                  <span class="subdued">chrome.runtime.</span>onSuspendCanceled<span class="subdued">.addListener</span>(function()<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    在 onSuspend 之后发送，表示应用最终不会被卸载。
                  </p>  </div>
              </div>
              <div>
                <h4 id="event-onUpdateAvailable">onUpdateAvailable</h4>
                <div class="summary">
                  <span class="subdued">chrome.runtime.</span>onUpdateAvailable<span class="subdued">.addListener</span>(function(<span>object <span class="variable">details</span></span>)<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    当更新可用时产生，然而由于应用当前还在运行，不能立即安装。如果您什么都不做，更新将在后台网页下一次卸载时安装。如果您希望快点安装，您可以显式调用 <a href="runtime.html#method-reload">reload</a>。
                  </p>      <h4><!--@Listener Parameters-->监听器参数</h4>
                    <dl>
                      <div>  <a name="property-onUpdateAvailable-details"></a>  <dt>    <span class="variable">details</span>    <span class="property">      (                object      )    </span>  </dt>  <dd>    可用更新的清单文件详情。  </dd>  <dd>    <dl>      <div>        <a name="property-details-version"></a>        <dt>          <span class="variable">version</span>          <span class="property">            (                            string            )          </span>        </dt>        <dd>          可用更新的版本号。        </dd>      </div>    </dl>  </dd></div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="event-onConnect">onConnect</h4>
                <div class="summary">
                  <span class="subdued">chrome.runtime.</span>onConnect<span class="subdued">.addListener</span>(function(<span><a href="runtime.html#type-Port">Port</a> <span class="variable">port</span></span>)<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    当连接从扩展程序进程或内容脚本中发起时产生。
                  </p>      <h4><!--@Listener Parameters-->监听器参数</h4>
                    <dl>
                      <div>  <a name="property-onConnect-port"></a>  <dt>    <span class="variable">port</span>    <span class="property">      (                <a href="runtime.html#type-Port">Port</a>      )    </span>  </dt></div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="event-onConnectExternal">onConnectExternal</h4>
                <div class="summary">
                  <span class="subdued">chrome.runtime.</span>onConnectExternal<span class="subdued">.addListener</span>(function(<span><a href="runtime.html#type-Port">Port</a> <span class="variable">port</span></span>)<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    当连接从另一个扩展程序发起时产生。
                  </p>      <h4><!--@Listener Parameters-->监听器参数</h4>
                    <dl>
                      <div>  <a name="property-onConnectExternal-port"></a>  <dt>    <span class="variable">port</span>    <span class="property">      (                <a href="runtime.html#type-Port">Port</a>      )    </span>  </dt></div>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="event-onMessage">onMessage</h4>
                <div class="summary">
                  <span class="subdued">chrome.runtime.</span>onMessage<span class="subdued">.addListener</span>(function(<span>any <span class="variable">message</span></span>, <span><a href="runtime.html#type-MessageSender">MessageSender</a> <span class="variable">sender</span></span>, <span>function <span class="variable">sendResponse</span></span>)<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    当消息从扩展程序进程或者内容脚本中发送时产生。
                  </p>      <h4><!--@Listener Parameters-->监听器参数</h4>
                    <dl>
                      <div>  <a name="property-onMessage-message"></a>  <dt>    <span class="variable">message</span>    <span class="property">      (                any      )    </span>  </dt>  <dd>    调用脚本发送的消息。  </dd></div><div>  <a name="property-onMessage-sender"></a>  <dt>    <span class="variable">sender</span>    <span class="property">      (                <a href="runtime.html#type-MessageSender">MessageSender</a>      )    </span>  </dt></div><div>  <a name="property-onMessage-sendResponse"></a>  <dt>    <span class="variable">sendResponse</span>    <span class="property">      (                function      )    </span>  </dt>  <dd>    当您产生响应时调用（最多一次）的函数，参数可以是任何可转化为 JSON 的对象。如果您在同一个文档中有一个以上的 <code>onRequest</code> 事件处理函数，只有其中一个可以发送响应。当事件处理函数返回时，该函数将失效，除非您在事件处理函数中返回 true，表示您希望通过异步方式发送响应（这样，与另一端之间的消息通道将会保持打开状态，直到调用了 <code>sendResponse</code>）。  </dd></div>
                    </dl>
                    <!-- Adapted from callback.html. Used in the callback parameter in the
                    listener of chrome.webRequest.onAuthRequired. -->
                    <h4><!--@Callback-->监听器回调函数</h4>
                    <p>
                          <em>sendResponse</em> 函数应该以如下形式调用：
                    </p>
                    <pre>sendResponse(response);</pre>
                    <dl>
                        <div>
                          <a name="property-sendResponse-response"></a>
                          <dt>
                            <span class="variable">response</span>
                            <span class="property">
                              (
                                
                                any
                              )
                            </span>
                          </dt>
                          <dd>
                            要发送的 JSON 响应对象。
                          </dd>
                        </div>
                    </dl>
                    <h4>监听器返回值</h4>
                    <dl>
                      <dt><span class="property">
                        ( boolean )
                      </span></dt>
                      <dd>
                      如果您需要在事件监听器返回后再调用 <code>sendResponse</code> 请在事件监听器中返回 true。
                      </dd>
                    </dl>
                </div>
              </div>
              <div>
                <h4 id="event-onMessageExternal">onMessageExternal</h4>
                <div class="summary">
                  <span class="subdued">chrome.runtime.</span>onMessageExternal<span class="subdued">.addListener</span>(function(<span>any <span class="variable">message</span></span>, <span><a href="runtime.html#type-MessageSender">MessageSender</a> <span class="variable">sender</span></span>, <span>function <span class="variable">sendResponse</span></span>)<span class="subdued"> {...}</span>);
                </div>
                <div class="description">
              <p>
                    当消息从另一个扩展程序/应用发送时产生。不能在内容脚本中使用。
                  </p>      <h4><!--@Listener Parameters-->监听器参数</h4>
                    <dl>
                      <div>  <a name="property-onMessageExternal-message"></a>  <dt>    <span class="variable">message</span>    <span class="property">      (                any      )    </span>  </dt>  <dd>    调用脚本发送的消息。  </dd></div><div>  <a name="property-onMessageExternal-sender"></a>  <dt>    <span class="variable">sender</span>    <span class="property">      (                <a href="runtime.html#type-MessageSender">MessageSender</a>      )    </span>  </dt></div><div>  <a name="property-onMessageExternal-sendResponse"></a>  <dt>    <span class="variable">sendResponse</span>    <span class="property">      (                function      )    </span>  </dt>  <dd>    当您产生响应时调用（最多一次）的函数，参数可以是任何可转化为 JSON 的对象。如果您在同一个文档中有一个以上的 <code>onRequest</code> 事件处理函数，只有其中一个可以发送响应。当事件处理函数返回时，该函数将失效，除非您在事件处理函数中返回 true，表示您希望通过异步方式发送响应（这样，与另一端之间的消息通道将会保持打开状态，直到调用了 <code>sendResponse</code>）。  </dd></div>
                    </dl>
                    <!-- Adapted from callback.html. Used in the callback parameter in the
                    listener of chrome.webRequest.onAuthRequired. -->
                    <h4><!--@Callback-->监听器回调函数</h4>
                    <p>
                          <em>sendResponse</em> 函数应该以如下形式调用：
                    </p>
                    <pre>sendResponse(response);</pre>
                    <dl>
                        <div>
                          <a name="property-sendResponse-response"></a>
                          <dt>
                            <span class="variable">response</span>
                            <span class="property">
                              (
                                
                                any
                              )
                            </span>
                          </dt>
                          <dd>
                            要发送的 JSON 响应对象。
                          </dd>
                        </div>
                    </dl>
                    <h4>监听器返回值</h4>
                    <dl>
                      <dt><span class="property">
                        ( boolean )
                      </span></dt>
                      <dd>
                      如果您需要在事件监听器返回后再调用 <code>sendResponse</code> 请在事件监听器中返回 true。
                      </dd>
                    </dl>
                </div>
              </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    window.bootstrap = {
      api_names: [{"name":"alarms"},{"name":"bookmarks"},{"name":"browserAction"},{"name":"browsingData"},{"name":"commands"},{"name":"contentSettings"},{"name":"contextMenus"},{"name":"cookies"},{"name":"debugger"},{"name":"declarativeContent"},{"name":"declarativeWebRequest"},{"name":"devtools.inspectedWindow"},{"name":"devtools.network"},{"name":"devtools.panels"},{"name":"downloads"},{"name":"events"},{"name":"extension"},{"name":"fileBrowserHandler"},{"name":"fontSettings"},{"name":"history"},{"name":"i18n"},{"name":"idle"},{"name":"input.ime"},{"name":"management"},{"name":"omnibox"},{"name":"pageAction"},{"name":"pageCapture"},{"name":"permissions"},{"name":"privacy"},{"name":"proxy"},{"name":"pushMessaging"},{"name":"runtime"},{"name":"scriptBadge"},{"name":"sessionRestore"},{"name":"storage"},{"name":"tabCapture"},{"name":"tabs"},{"name":"topSites"},{"name":"tts"},{"name":"ttsEngine"},{"name":"types"},{"name":"webNavigation"},{"name":"webRequest"},{"name":"webstore"},{"last":true,"name":"windows"}].concat(
          [{"name":"experimental.devtools.audits"},{"name":"experimental.devtools.console"},{"name":"experimental.discovery"},{"name":"experimental.history"},{"name":"experimental.identity"},{"name":"experimental.infobars"},{"name":"experimental.processes"},{"name":"experimental.record"},{"name":"experimental.speechInput"},{"name":"experimental.systemInfo.cpu"},{"last":true,"name":"experimental.systemInfo.storage"}]),
      branchInfo: {"channels":[{"path":"stable","name":"Stable"},{"path":"dev","name":"Dev"},{"path":"beta","name":"Beta"},{"path":"trunk","name":"Trunk"}],"current":"trunk","showWarning":true}
    };
  </script>
  <div id="gc-footer">
    <div class="text">
      <p>
        <!--@Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>,
        the content of this page is licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
        Attribution 3.0 License</a>, and code samples are licensed under the
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>.-->
        该页面翻译自
        <a href="https://developer.chrome.com/extensions/">Google Chrome Extensions</a>
        与
        <a href="https://developer.chrome.com/apps/">Google Chrome Apps</a>。除非特别<a href="https://code.google.com/policies.html#restrictions">说明</a>，该页面的内容遵循
        <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0
        License</a>，代码示例遵循
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>。
      </p>
      <p>
        <!--@©2012 Google-->
      </p>
      <script src="/trunk/static/js/branch.js" type="text/javascript"></script>
      <script src="/trunk/static/js/sidebar.js" type="text/javascript"></script>
      <script src="/trunk/static/js/prettify.js" type="text/javascript"></script>
      <script>
        (function() {
          // Auto syntax highlight all pre tags.
          var preElements = document.getElementsByTagName('pre');
          for (var i = 0; i < preElements.length; i++)
            preElements[i].classList.add('prettyprint');
          prettyPrint();
        })();
      </script>
      <script src="https://www.google-analytics.com/urchin.js" type="text/javascript"></script>
      <script src="https://www.google-analytics.com/ga.js" type="text/javascript"></script>
      <script type="text/javascript">
        // chrome doc tracking
        try {
          var engdocs = _gat._getTracker("YT-10763712-2");
          engdocs._trackPageview();
        } catch(err) {}
        // code.google.com site-wide tracking
        try {
          _uacct="UA-18071-1";
          _uanchor=1;
          _uff=0;
          urchinTracker();
        }
        catch(e) {/* urchinTracker not available. */}
      </script>
      <script>
        (function() {
          var cx = '002967670403910741006:61_cvzfqtno';
          var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
          gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
        })();
      </script>
  
    </div>
  </div>
</html>

