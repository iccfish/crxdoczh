<h1 id="lab_9_multiple_views"><!--@Lab 9 - Multiple Views-->实验九：多重视图</h1>

<p><!--@Unlike standard web apps, a Chrome app has complete control of its windows. It can create any number of windows at arbitrary screen locations, control the window&#39;s look and feel, minimize, maximize and much more.-->
与标准网页不同，Chrome 应用可以完全控制它的窗口。它可以在任意屏幕位置创建任意数目的窗口，控制窗口的外观和体验、最小化、最大化等等。
</p>

<p><!--@In this lab, we will move the Drop area of our current application to another window. Here you can see how windows talk to each other and to the event page directly, synchronously, because they are all in the same thread.-->
在该实验中，我们将把我们当前应用的拖放区域移动至另一个窗口。这样您可以了解窗口之间以及与事件页面如何同步地通信，因为它们都在同一个线程中。
</p>

<ol>
<li><p><!--@Let&#39;s adapt our code then. Start by removing the droptext <code>&lt;div&gt;</code> from-->让我们修改我们的代码。首先从 <a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab9_multipleviews/angularjs/index.html">index.html</a><!--@.-->
中删除拖放文本 <code>&lt;div&gt;</code>。</p></li>
<li><p><!--@Create a new HTML with the drop area: -->创建一个新的 HTML，包含拖放区域：<a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab9_multipleviews/angularjs/droparea.html">droparea.html</a>
<pre>
&lt;html ng-app ng-csp&gt;
  &lt;head&gt;
    &lt;script src=&quot;angular.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;droparea.js&quot;&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;todo.css&quot;&gt;
    &lt;title&gt;File Drop&lt;/title&gt;
  &lt;/head&gt;
  &lt;body ng-controller=&quot;DropCtrl&quot; ng-class=&quot;dropClass&quot;&gt;
    &lt;h2&gt;Drop Area&lt;/h2&gt;
    &lt;div&gt;&#123;&#123;dropText&#125;&#125;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;    
</pre></p></li>
<li><p><!--@Move all drop-related functionality from-->将所有拖放相关的功能从 <a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab9_multipleviews/angularjs/controller.js">controller.js</a> <!--@to a new file,-->移动至一个新文件 <a href="https://github.com/GoogleChrome/chrome-app-codelab/blob/master/lab9_multipleviews/angularjs/droparea.js">droparea.js</a><!--@:-->：
<pre>
function DropCtrl($scope) {
  // move here the variable initializations for defaultDropText and $scope.dropText
  // move here the methods dragOver, dragLeave and drop
}
</pre></p></li>
<li><p><!--@In the existing-->在已有的 <code>controller.js</code><!--@, add the call to create a new window:-->
中，添加调用创建新窗口：
<pre>
chrome.app.window.create(&#39;droparea.html&#39;,
  {id: &#39;dropArea&#39;, bounds: {width: 200, height: 200} },
  function(dropWin) {
    dropWin.contentWindow.$parentScope = $scope; 
  });
</pre></p></li>
</ol>

<p><!--@And that&#39;s all. Thanks to the hierarchical scope support on Angular, the <code>DropCtrl</code> controller is a child of the <code>TodoCtrl</code> and inherits all the context of its parent.-->
这样就可以了。由于 AngularJS 具有层次式的区域支持，<code>DropCtrl</code>
控制器是 <code>TodoCtrl</code> 的子控制器，继承了父控制器的所有上下文。
</p>

<p><!--@To test, open the app, right-click, and select Reload App. Move the top view to the right, and you can see the additional view.-->
为了测试，打开应用，单击右键，并选择“重新加载应用”。将最上面的视图移至右侧，您就能看见新增加的视图。
</p>

<p class="note"><b><!--@Note:-->注意：</b><!--@  If you get stuck and want to see the app in action, go to <code>chrome://extensions</code>, load the unpacked -->如果您遇到了困难，希望立刻看到修改后的应用，请进入
<code>chrome://extensions</code>，加载未打包的<a href="https://github.com/GoogleChrome/chrome-app-codelab/tree/master/lab9_multipleviews">实验九应用</a><!--@, and launch the app from a new tab.-->，并在新标签页中运行应用。
</p>

<h1 id="takeaway_"><!--@Takeaway:-->更多信息</h1>

<ul>
<li><!--@Web developers usually have a mindset of one-window-per-webapp.
The Chrome app platform opens more possibilities for your creativity.
A document editor, for example, can have one window per opened document, a more natural metaphor for native-like apps.-->
网页开发者通常有一个网上应用一个窗口的思维模式，而 Chrome
应用平台为您的创造性提供了更多可能。例如，文档编辑器可以为每一个打开的文档创建一个窗口，这样更像一个原生的应用。
</li>
</ul>

<h1 id="what_39_s_next_"><!--@What&#39;s next?-->接下来做什么？</h1>

<p><!--@In-->在 <a href="app_codelab_10_publishing.html">lab_10_publishing</a><!--@, we finish off with instructions on how to publish your app in the Chrome Web Store.-->
中，我们将以如何在 Chrome 网上应用店发布您的应用的指南结尾。
</p>
